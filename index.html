<!DOCTYPE html>
<html lang="pt-br">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 

  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  <!-- √çcone da p√°gina -->
  <link rel="icon" href="https://img.icons8.com/?size=2x&id=Sd1fJXRt5uTd&format=png" type="image/png">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <!-- Importa√ß√£o da fonte Poppins -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;400;500;600;700&display=swap" rel="stylesheet">
  


  
  
  <title>ùïÄùïüùïïùïíùïöùïíùîΩùïöùïìùï£ùïí</title>
  <body onload="verificarTercaFeira()">
</head>

<style>


:root { 
   --principal: #1E7CFA; 
   --secundaria: #425671;
   --tabela: #9DBAE566;
   --texto: #D3D3DE;
 }


  /* Estilos gerais */
body {
  font-family: 'Poppins', sans-serif;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  text-align: center;
  background: var(--principal);
  transition: 1s all;
  background: linear-gradient(220deg, var(--principal), #777A7B, #40ABA7);
    background-size: 300% 300%;
    animation: moverGradiente 5s infinite linear alternate;
}

/* Anima√ß√£o do gradiente */
@keyframes moverGradiente {
    0% { background-position: 0% 50%; }
    100% { background-position: 100% 50%; }
}



/* Estilos para inputs */
input {
  text-align: center;
  width: 70%;
}

/* Estilos para bot√µes */
.BTN {
  width: fit-content;
  padding: 10px;
  justify-content: space-evenly;
  font-size: 10px;
  font-weight: bold;
  text-align: center;
  color: var(--texto);
  background-color: #E1E2F075;
  text-align: center;
  width: 70%;
  max-width: 350px;
  box-shadow: 0 8px 9px rgba(0, 0, 0, 8);
  transition: box-shadow 0.3s ease;

}

#btn-historico {
  position: fixed;
  right: 15px;
  bottom: 80px;
  margin-bottom: 10px;
  background: var(--principal);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.9);
  transition: box-shadow 0.3s ease;
  border: 3px black solid;
  border-radius: 50%;
  width: 55px;
  height: 55px;
  display: none;
  align-items: center;
  justify-content: center;
  color: black;
  font-size: 20px;
  animation: slidein 1s ease-in;

}



#enviar {
  margin-bottom: 20px;
  backdrop-filter: blur(1px);
  background: #42445A78;
  transition: transform 1s ease-in-out;
}


#enviar.active {
  animation: flyToCenterZoom 2s ease-in-out forwards;
}

@keyframes flyToCenterZoom {
  0% {
    transform: translate(0, 0) scale(1);
  }
  50% {
    transform: translate(calc(-20vw - 50%), calc(-20vh - 50%)) scale(10);
    rotate: -35deg;
  }

  95% {
    transform: translate(calc(-70vw - 50%), calc(-70vh - 50%)) scale(-2);
  }
  
  
  
  100% {
    transform: translate(calc(-100vw - 10%), calc(-100vh - 70%)) scale(0);
    rotate: 50deg;
  }
}

button {
  font-weight: bold;
  text-align: center;
  color: #fff;
  background-color: transparent;
  text-align: center;
  border-radius: 5px;
  font-size: 80%;
  padding: 10px;
  color: var(--texto);
  border: none;
}

.botoes {
  margin: 0 auto;
  align-items: center;
  background: grey;
  display: flex;
  gap: 10px;
  width: fit-content;
  height: fit-content;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
  transition: box-shadow 0.3s ease;
  
}

tbody button {
  margin: 5px;
  justify-content: space-evenly;
  gap: 10px;
  background: var(--principal);
  width: 40px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
  transition: box-shadow 0.3s ease;
}


.versiculo{
  display: none;
  width: 80%;
  font-size: 1rem;
  text-align: center;
  background-color: var(--tabela);
  margin: 0 auto;
  border: 1px solid black;
  border-radius: 4px 0px 4px;
  padding: 5px;
  font-size: small;
  color: var(--texto);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
  transition: box-shadow 0.3s ease;
  animation: blink 7.5s infinite;
}

/* Estilos para tabelas */
th,
td {
  font-size: 1rem;
  text-align: center;
  background-color: var(--tabela);
  margin: 0 auto;
  border: 1px solid black;
  border-radius: 4px 0px 4px;
  padding: 5px;
  font-size: small ;
  color: #323442;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
  transition: box-shadow 0.3s ease;
}

td{
   text-align: center;
}
th{
   text-align: right;
   text-transform: uppercase ;
}

td button {
  width: 30px;
  height: 30px;
  border-radius: 5px;
  text-align: center;
  justify-content: center;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
  transition: box-shadow 0.3s ease;#2C37BB
}

.menu{
  display: flex;
  margin:0 auto;
}

p{
 color: var(--texto);
 font-weight: 600;
}

/* Estilos para bot√£o de exclus√£o */
#excluir {
  width: fit-content;
  padding: 8px;
}

/* Estilos para abas */
.tabs {
  display: flex;
  justify-content: center;
  margin-bottom: 10px;
}

table#retirada,
table#estoque {
  background: none;
  margin: 0 auto;
}

.acoes {
  display: flex;
}

/* Estilos para conte√∫do */
#habilitar {
  width: fit-content;
  margin: 0 auto;
}

#habilitar input {
  width: 60%;
  border-radius: 4px;
  height: 30px;
  border: transparent;
  outline: none;
  transition: width 0.7s ease-in-out;
}

#habilitar input:focus {
   width: 80%;
   background: #DDDEE6;
}

select {
  height: 30px;
  padding: 2px;
  margin-bottom: 4px;
  width: 65%;
  text-align: center;
  border-radius: 4px;
  outline-color: #4B4D64;
}

/* Estilos para navega√ß√£o */
nav {
  backdrop-filter: blur(10px); 
  background-color: rgba(36, 44, 44, 0.63);
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  position: relative;
  z-index: 10;
  border-bottom: #C1CAD76B solid 3px;
  border-top: #C1CAD721 solid 4px;
  animation: borderAnimation 2s ease-in;
}

@keyframes borderAnimation {
  0% {
    transform: translateY(60%);
    filter: blur(5px);
    margin-top: 600px;
    scale: 5;
    box-shadow: -200px 0 20px 5px rgba(0, 0, 255, 0),
                200px 0 20px 5px rgba(0, 0, 255, 0);
  }
  10% {
    box-shadow: -160px 0 20px 5px rgba(0, 0, 255, 0.4),
                160px 0 20px 5px rgba(0, 0, 255, 0.4);
  }

  100% {
    transform: translateY(0%);
    box-shadow: 200px 0 20px 5px rgba(0, 0, 255, 0),
                -200px 0 20px 5px rgba(0, 0, 255, 0);
  }
}
  
a{
  animation: slidein 1s ease-in-out;
}  
  
.sublinhado-ativo {
 box-shadow: 5px 10px 20px 5px rgba(48, 56, 56, 0.5);
 height: fit-content;
 width: fit-content;
 animation: scaleAnimation 1.2s infinite;
}


.sublinhado-ativo1 {
 box-shadow: 0 2px 8px rgba(1, 0, 0, 1);
 height: fit-content;
 width: fit-content;
 animation: scaleAnimation 2s infinite;
}

.sublinhado-ativo2 {
z-index: 10;
position: fixed;
bottom: 20px;
right: 15px;
padding: 10px;
background: gray;
box-shadow: 0 2px 8px rgba(01, 0, 0, 01);
 height: 70px;
 width: 70px;
 border-radius: 50%;
 scale: 0.9;
 animation: scaleAnimation1 3s infinite;
}



@keyframes scaleAnimation {
  0% {
  
    border: transparent solid 1px;
    border-radius: 4px;
    transform: scale(1.3);
    box-shadow: 10 20px 20px 10 rgba(09, 10, 0, 01);

  }
  50% {
    border: #1067DA solid 1px;
    border-radius: 10px 10px 10px 10px;
    transform: scale(1.2);
    box-shadow: 2px 10px 10px 2px #2D2F31

  }
  100% {
    
    border: transparent solid 1px;
    border-radius: 4px;
    transform: scale(1.3);
    box-shadow: 5 20px 20px 5 rgba(09, 10, 0, 01);

  }
}


@keyframes scaleAnimation1 {
  0% {
    
    border-radius: 35px;
    transform: scale(1.3);
    box-shadow: 10 4 10 5 rgba(09, 10, 0, 01);

  }
  50% {
    
    border-radius: 33px;
    transform: scale(1.2);
    box-shadow: 0px 5px 10px 0px #0B2E5D

  }
  100% {
    
    border-radius: 35px;
    transform: scale(1.3);
    box-shadow: 10 5 10 6 rgba(09, 10, 0, 01);

  }
}



#btn-mobile {
  display: none;
}

body.delta-active {
  overflow-y: hidden;
}


/* Estilos para dispositivos m√≥veis */
@media (max-width: 600px) {
  .logo {
    height: 30px;
    width: 30px;
    padding: 10px;
    align-items: center;
    animation: slidein 1s ease-out;
    
  }
  
  

  li a {
    font-size: 16px;
    text-align: center;
    color: var(--texto) #B2B2B2;
    text-align: center;
    transition: 0.6s;
    font-weight: 600;
  }
  
  li a:hover{
   color: var(--principal) ;
   font-weight: 900;
   font-size: 17px;
  }

  #menu {
    display: block;
    position: absolute;
    width: 100%;
    top: 4.2rem;
    right: 0px;
    background: var(--secundaria) ;
    transition: 0.6s;
    z-index: 1000;
    height: 0px;
    visibility: hidden;
    overflow-y: hidden;
  }

  #nav.active #menu {
    height: calc(100vh - 4rem);
    visibility: visible;
    overflow-y: auto;
  }
  

  #menu a {
    padding: 1rem 0;
    margin: 0 1rem;
    border-bottom: 2px solid rgba(0, 0, 0, 0.05);
  }

  #btn-mobile {
    display: none;
    padding: 1rem;
    font-size: 1rem;
    border: none;
    background: none;
    cursor: pointer;
    gap: 0.5rem;
    align-items: center;
    justify-content: center;
  }

  #hamburger {
    border-top: 2px solid;
    width: 20px;
  }

  #hamburger::after,
  #hamburger::before {
    content: "";
    display: block;
    width: 20px;
    height: 2px;
    background: currentColor;
    margin-top: 5px;
    transition: 0.3s;
    position: relative;
  }

  #nav.active #hamburger {
    border-top-color: transparent;
  }

  #nav.active #hamburger::before {
    transform: rotate(135deg);
    color: var(--texto);
  }

  #nav.active #hamburger::after {
    transform: rotate(-135deg);
    top: -7px;
    color: var(--principal );
  }
}

ul {
  font-size: 0.5rem;
  display: flex;
  flex-direction: column-reverse;
}

.instalacoes {
  background: #42445A;
  border-radius: 5px;
  width: 90%;
  margin: 0 auto;
  padding: 10px;
}

.instalacoes li {
  text-align: left;
  list-style: none;
}


.btnEstoque {
  width: 90%;
  justify-items: center;
  justify-content: center;
  margin: 0 auto;
  gap: 15px;
  display: flex;
  
}

span {
  font-size: 1rem;
  font-weight: 400;
}

.item-lista p{
 color: var(--principal);
 font-size:  .6rem;
 margin: 10;
}

input.checkbox-item {
  margin: 0px;
  position: absolute;
  top: 6px;
  width: 25px;
}

li.item-lista {
  margin: 1px;
  width: 100%;
  display: flex;
  border: 1px solid grey;
}

 p.abaRegistros.classe-Cliente{
  background: #42445A ;
  width: 90%;
  display: block;
  text-align: center;
  justify-content: center ;
  margin: 6px;
}

p.classe-Data {
  color:white ;
  width: 100%;
  text-align: center;
  display: block;
  align-items: center;
  justify-content: center ;
  background: #606279;
  border-radius: 2px;
}

h4.abaDados {
  height: 140px;
  position: relative;
  width: 100%;
  margin: 6px;
  display: inline-block ;
  background: #606279;
  border-radius: 1px 5px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
  transition: box-shadow 0.3s ease;
}

div1{
  background: #606279;
  border-radius: 1px 5px;
  margin:6px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
  transition: box-shadow 0.3s ease;
}

h4{
  color:#FFFFFF ;
  font-size: 8px;
  margin:10px;
}
  

p.abaRegistros  {
  color: white;
  display: flex;
  width: 50%;
  align-items: left;
  background:#2C37BB;
  margin:0px;
  font-size: .6rem;
  border: 5px solid #606279;
}

 h4.classe-link-mapa{
 width: 30px;
 position: relative;
 bottom: 60px;
 left: 120px;
 
}




select#registros {
 width: 80%;
 caret-color: grey;
 outline: #55576B;
 border: 1px solid black;
}

#estoqueDiv{
 margin-top: 2px;
}

#lista-dados-copiados {
  text-align: center;
  justify-content: center;
  padding: 0;
}

#comentarios1{
  width: 95%;
  font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
}

#comentarios:focus{
 animation: blink 2s linear infinite;
 caret-color: grey;
 outline: #55576B;
 border: 1px solid #000000;

}

@keyframes blink {
  0% {
    color: #000000;
  }
  50% {
    color: #8B8B8B;
  }
  100% {
    color: #000000;
  }
}
  
  #cliente1:focus{
  animation: blink 2s linear infinite;
 caret-color: grey;
 outline:transparent;
 border: 1px solid #000000;
  }
  
  
 @keyframes slidein {
      0% {
        transform: translateY(10%);
        filter: blur(30px);
      }
      100% {
        transform: translateY(0%);
      }
    }
    
    #estoqueDiv, #habilitar, #retiradaDiv, #manutencaoDiv, .instalacoes {
      animation: .5s all;
      animation-name: slidein;
      margin-top: 120px;
      margin-bottom: 40px;
    }
   
   #habilitar table{
     margin: 0 auto;
   } 
    
    
    #retiradaDiv{
      display: none;
      margin-top: 10px;
      margin-bottom: 100px;
    }
    
    #nav{
      width: 100%;
      right: 0;
      top: 0;
      position: fixed;
    }
    
    .menu, a {
      font-size: .4em;
      justify-content: center ;
      align-items: center;
      display: flex;
      flex-direction: ;
      margin: 10px;
    }
    

    #quantidade-por-mes{
      
      background: #606279;
  border-radius: 1px 5px;
  margin:6px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
  transition: box-shadow 0.3s ease;
      
      padding: 20px;
      text-transform: capitalize;
      column-count: 2;
    }
    
    #quantidade-por-mes p {
    color: white;
    margin: 0;
    padding: 2px;
    text-align: right ;
    }
    
    div#instalacoes p{
  color: white;
    }
    

#mapLink{
  display: none;
}


.temp span{
  font-size: 16px;
  width: 60%;
  margin: 0 auto;
  padding: 0;
  animation: blink 2s infinite;
}



#weather{
  height:fit-content;
}


iframe{
  position: relative;
  z-index: 5;
}

.blink{
  animation: blink 2s infinite;
}

.temp p{
  font-size: 8px;
  margin: 0 auto;
  width: fit-content;
  font-weight: small;
}

.local a{
  margin-bottom: 20px;
}

.local img{
  height: 25px;
  width: 25px;
}

.address-details p, .weather-details p {
  font-size: 11px;
  font-weight: 400;
  margin: 5px auto;
}




.abaDados a {
  display: block;
  margin: 0px;
  padding: 0px;
  text-align: left;
  color: #34BECD;
}


.search-button {
  z-index: 10;
  position: fixed;
  bottom: 20px;
  right: 15px;
  width: 30px;
  height: 30px; 
  padding: 10px;
  border: black solid 3px;
  background-color: var(--principal);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  line-height: 50px;
  color: black;
  font-size: 24px;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.9);
  animation: slidein 1s ease-in;

}




.search-container {
  z-index: 10;
  display: block;
  position: fixed;
  bottom: 35px;
  left: 20px;
  width: 200px;
  height: 40px;
  display: none;
}

.search-container input[type=text] {
  width: 100%;
  height: 100%;
  padding: 6px;
  font-size: 17px;
  border: none;
  background:#C7D5E4;
  outline: none;
}

.btnPesquisar{
  z-index: 10;
  border-radius: 0 10px 10px 0;
  position: fixed;
  bottom: 20px;
  padding: 20px;
  background-color:#0056B3;
  animation: slidein .5s all;
}
.btnPesquisar:hover{
  background-color: #007bff;

}

#inputFind{
  animation: .5s all;
  animation-name: slidein;
  height: 42px;
  width: 90%;
  border-radius:  10px 0 0 10px;
}

 .alert {
  backdrop-filter: blur(5px);
  background-color: rgba(10, 0, 0, 0.8);
  position: fixed;
  top: 85px;
  width: fit-content;
  padding: 6px;
  font-size: 10px;
  border-radius: 10px;
  z-index: 9999;
  display: none;
  animation: 1.2s ease-in;
  transition: box-shadow 0.3s ease;
  animation-name: slidein;
}

.alert p {
  color: white;
}

.alert button {
  color: white;
  border: 1px solid #FFFFFF;
  width: 90px;
  margin: 10px;
}
  
  .editor{
    font-size: 12px;
    text-decoration: none;
    color: black;
    transition: box-shadow 0.3s ease;
    animation: blink 7.5s infinite;
  }
  

#alerta1 {
  z-index: 10;
  width: 50%;
  position: fixed;
  top: 110px;
  left: 50%;
  transform: translateX(-50%);
  background-color: #36A2F4CC;
  color: white;
  padding: 10px 10px;
  border-radius: 5px;
  display: none;
}

        .spinner {
        	   position: relative;
        	   bottom: 66px;
        	   right: 15px;
            border: 4px solid rgba(0, 0, 0, 0.1);
            width: 70px;
            height: 70px;
            border-radius: 50%;
            border-top-color: #3498db;
            animation: spin 1s ease-in-out infinite;
            display: inline-block;
        }
        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        #mapReal {
          height: 200px;
         width: 98%;

         margin: 0 auto;
         border: 2px black solid;
         border-radius: 5px;
         margin-bottom: 10px;
         animation: slidein 1.2s ease;
         z-index: 0;
         }

         #ultimomes{
         color: white;
         }
         #imageInput {
         display: none;
         }

         .preferencias {
         margin-left: 10px;
         margin-top: 80px;
         width: 80%;
         height: auto;
         background: ;
         display: flex;
         flex-direction: column;
         align-items: flex-start;
         gap: 10px;
         }

         .preferencias h1{
         margin: 8px;
         width: 90vw;
         font-size: 20px;
         color: white;
         text-align: left;
         }

         /* Estilizando o container do switch e descri√ß√£o */
         .switch-container {
         display: flex;
         align-items: center;
         gap: 10px;
         }

         /* Estiliza o bot√£o para simular o comportamento */
         .custom-file-input {
         display: inline-block;
         padding: 6px 12px;
         cursor: pointer;
         border: 1px solid #ccc;
         border-radius: 4px;
         background-color: #F8F8F8;
         }

         /* Estilizando o container do switch */
         .switch {
         position: relative;
         display: inline-block;
         width: 60px;
         height: 34px;
         scale: .9;
         }

         /* Escondendo o checkbox */
         .switch input {
         opacity: 0;
         width: 0;
         height: 0;
         }

         /* Estilo do slider */
         .slider {
         position: absolute;
         cursor: pointer;
         top: 0;
         left: 0;
         right: 0;
         bottom: 0;
         background-color: #ccc;
         transition: .4s;
         border-radius: 34px;
         }

         /* Estilo da "bolinha" do slider */
         .slider:before {
         position: absolute;
         content: "";
         height: 26px;
         width: 26px;
         left: 4px;
         bottom: 4px;
         background-color: white;
         transition: .4s;
         border-radius: 50%;
         }

         /* Cor quando o switch est√° ativado */
         input:checked + .slider {
         background-color: #3498db;
         }

         /* Movimento da "bolinha" quando ativado */
         input:checked + .slider:before {
         transform: translateX(26px);
         }

         /* Estilo adicional para arredondar os cantos do slider */
         .slider.round {
         border-radius: 34px;
         }

         .slider.round:before {
         border-radius: 50%;
         }

         .botaoCopiar{
         font-size: .8rem;
         }

         @keyframes girar {
         5% {
         transform:translateX(0%) translateY(0%) rotate(10deg);
         scale: .8;
         }
         40% {
         transform: translateX(-0%) translateY(0%) rotate(960deg);
         scale: 1.2;
         }
         }

         .girar-img {
         animation: girar 8s ease-out;
         }


         @keyframes flip {
         0% {
         transform: rotateY(0deg);
         }
         100% {
         transform: rotateY(1024deg);
         }
         }

         .flip-img {
         animation: flip 3s ease-out;
         transform-style: preserve-3d;
         backface-visibility: visible;
         }

         footer{
         font-size: 14px;
         position: absolute;
         background: #42445A;
         width: 100vw;
         margin-left: -10px;
         bottom: 5px;
         }
         
         .qr{
            display: none;
         }
         
         .qr img{
            width: 250px;
            height: 250px;
            border: 8px solid black;
            border-radius: 8px;
         }
         

         </style>

         <body>

          <audio id="notification" style="display: none" src="/audio/notification.mp3" controls></audio>

          <audio id="xselect" style="display: none" src="/audio/ffselect.mp3" controls></audio>

          <audio id="recycler" style="display: none" src="/audio/recycler.mp3" controls></audio>

          <!-- Barra de navega√ß√£o -->
          <nav id="nav">



           <div class="menu">


            <a class="sublinhado-ativo" onclick="ativarSublinhado(this);mostrarRetirada()" ;><img onclick="mostrarRetirada()" class="logo" src="https://img.icons8.com/?size=2x&id=Sd1fJXRt5uTd&format=png" height="90" width="90"></a>



            <a onclick="ativarSublinhado(this);mostrarInstalacoes"><img onclick="mostrarInstalacoes();" class="logo" src="https://img.icons8.com/?size=2x&id=Kwa2wLSodvjf&format=png" height="90" width="90"></a>

            <a onclick="ativarSublinhado(this);mostrarEstoque"><img onclick="mostrarEstoque()" class="logo" src="https://img.icons8.com/?size=512&id=ATNcH32az6si&format=png" height="90" width="90"></a>


            <a onclick="ativarSublinhado(this); mostrarManutencao(); flipImagem(this.querySelector('img'));">
             <img class="logo" src="https://img.icons8.com/?size=512&id=uxYPS07KAuId&format=png" height="90" width="90">
            </a>

            <a onclick="ativarSublinhado(this); mostrarPreferencias(); girarImagem(this.querySelector('img'));">
             <img class="logo" src="https://img.icons8.com/fluency/48/settings.png" height="90" width="90">
            </a>
    
    <div class="alert" id="alerta">

  <p>Deseja registrar o pedido de material ?</p>
  
  <button onclick="prosseguir()">Sim</button>
  
  <button onclick="fecharAlerta()">Depois</button>
  
</div>

    
    
   </div>


   
  </nav>
  

   

   



<div id="manutencaoDiv" style="display: none;">
  
  <h4 style="font-size: 20px">MAPA DE CTO</h4>
 
 
 <div class="menu">
   <div class="map" style="display: block;">
     <h4>Editar</h4>
 <a class="sublinhado-ativo1" href="#" id="editLink">
   <img class="logo" src="https://img.icons8.com/?size=512&id=QjsrTsVL665z&format=png" height="20" width="20">
 </a>
     </div>
     
     
   <div class="map" style="display: block;">
     <h4>Earth</h4>

<a class="sublinhado-ativo1" href="https://earth.app.goo.gl/?apn=com.google.earth&isi=293622097&ius=googleearth&link=https%3a%2f%2fearth.google.com%2fweb%2f%40-23.05937339,-47.31164855,637.82978119a,3835.30342676d,30.00033061y,0h,0t,0r%2fdata%3dMigKJgokCiAxbF9jaDZxdXB1WHowRG53Nmg5VmhvbTFZMWczaWJhWSAC" target="_blank">
  
<img class="logo" src="https://img.icons8.com/?size=512&id=0JR9TPl4aWU1&format=png" height="20" width="20">
</a>
   </div>

<div cla style="display: block;">
    <h4>Maps</h4>

<a class="sublinhado-ativo1" href="https://goo.gl/maps/88VJ2ZpSiy4F2Qas7?g_st=aw"target="_blank">

  <img class="logo" src="https://img.icons8.com/?size=512&id=Q82WjgdMEzoU&format=png" height="20" width="20"></a>
</div>
 </div>

<iframe src="https://www.google.com/maps/d/u/0/embed?mid=1l_ch6qupuXz0Dnw6h9Vhom1Y1g3ibaY&ehbc=2E312F&noprof=1" width="350" height="400"></iframe>

<div style="display: none;">
  

 <p> Total de Manuten√ß√µes: <span id="totalRegistros"></span></p>
 <!-- Conte√∫do da se√ß√£o de manuten√ß√£o -->
 

 <td><input type="text" placeholder="Nome do Cliente" id="cliente1"></td>

 <br><br>


 <textarea id="comentarios" placeholder="Digite aqui suas conclus√µes" rows="8" cols="35"></textarea>

<br><br>

 <select id="registros" onchange="selecionarRegistro()">
  <option value="" disabled selected>Selecione um registro</option>
 </select>


 <br><br>

 <div class="btnEstoque">
  <button class="BTN" onclick="enviarComentario()" type="submit">ENVIAR</button>

  <button class="BTN" onclick="excluirRegistro()" type="button">EXCLUIR</button>
 </div>




</div>
</div>




  

  <!-- Div para a se√ß√£o de estoque -->
  <div id="estoqueDiv" style="display: none;">
    <table id="estoque">
      <h1 >ESTOQUE</h1>
      <tr>
        <th>Quantidade</th>
        <th>A√ß√µes</th>
      </tr>
    </table>
    <br>
    <div class="btnEstoque">
      <button id="adicionar" class="BTN" onclick="adicionar()">Adicionar<br>Produto</button>
      <button style="display: none" id="clear-storage-btn" class="BTN">Resetar<br>Estoque</button>
      <button onclick="enviarMensagemWhatsApp()" class="BTN">Pedir<br>Material</button>
    </div>
  </div>
  <br>

  <!-- Div para a se√ß√£o de lan√ßamento -->
  <div class="habilitar" style="display: block" id="habilitar">
   
  
    <div id="ultimomes"></div><br>
    <div id="mapReal"></div>

    
    <script>
	async function reverseGeocode(lat, lon) {
		const url = `https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`;

		try {
			const response = await fetch(url);
			if (!response.ok) {
				throw new Error('Erro na solicita√ß√£o');
			}
			const data = await response.json();
			if (data.address) {
				const address = data.address;
				return {
					road: address.road || '',
					suburb: address.suburb || address.neighbourhood || '',
					postcode: address.postcode || ''
				};
			} else {
				return {
					road: '',
					suburb: '',
					postcode: ''
				};
			}
		} catch (error) {
			return {
				road: '',
				suburb: '',
				postcode: ''
			};
		}
	}

	async function getWeather(lat, lon) {
		const url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&lang=pt_br&units=metric&APPID=247b887404d2c17d430365e56d58d514`;

		try {
			const response = await fetch(url);
			if (!response.ok) {
				throw new Error('Erro na solicita√ß√£o');
			}
			const data = await response.json();
			const cidade = data.name;
			const temperatura = data.main.temp;
			const descricao = data.weather[0].description;
			const sensacao = data.main.feels_like;

			return {
				cidade,
				temperatura,
				descricao,
				sensacao
			};
		} catch (error) {
			console.error('Erro ao obter dados do clima:', error);
			return {
				cidade: '',
				temperatura: '',
				descricao: '',
				sensacao: ''
			};
		}
	}

	async function atualizarLocalizacao() {
		const addressDiv = document.getElementById('address');
		const weatherDiv = document.getElementById('weather');
		const spinnerDiv = document.getElementById('spinner');

		if (navigator.geolocation) {
			navigator.geolocation.getCurrentPosition(async (position) => {
				const latitude = position.coords.latitude;
				const longitude = position.coords.longitude;

				console.log(`Atualizando localiza√ß√£o: Latitude ${latitude}, Longitude ${longitude}`);

				const endereco = await reverseGeocode(latitude, longitude);
				const clima = await getWeather(latitude, longitude);

				addressDiv.innerHTML = `
                <div class="address-details">
                    <p>Rua: ${endereco.road}</p>
                    <p>Bairro: ${endereco.suburb}</p>
                    <p>CEP: ${endereco.postcode}</p>
                </div>
            `;

				weatherDiv.innerHTML = `
                <div class="weather-details">
                    <p>Cidade: ${clima.cidade}</p>
                    <p>Descri√ß√£o: ${clima.descricao}</p>
                    <p>Temperatura: ${clima.temperatura}¬∞C</p>
                    <p>Sensa√ß√£o: ${clima.sensacao}¬∞C</p>
                </div>
            `;

				spinnerDiv.classList.remove('spinner');
			}, (error) => {
				spinnerDiv.classList.remove('spinner');
				addressDiv.textContent = 'Erro ao obter localiza√ß√£o';
				weatherDiv.textContent = 'Erro ao obter clima';
			});
		} else {
			spinnerDiv.classList.remove('spinner');
			addressDiv.textContent = 'Geolocaliza√ß√£o n√£o √© suportada pelo seu navegador';
			weatherDiv.textContent = 'Geolocaliza√ß√£o n√£o √© suportada pelo seu navegador';
		}
	}

	document.addEventListener('DOMContentLoaded', () => {
		atualizarLocalizacao(); // Call once on load
		//setInterval(atualizarLocalizacao, 3000); // Update every 3 seconds
	});
</script>
    
    
    <table>
 

    <tr id="climatempo" style="display:none;">
    <td>
      <div class="local">
        <div class="temp">
          <span id="weather">Obtendo geolocaliza√ß√£o...</span>
        </div>
    </td>
    <th>
      <div class="temp">
       <span id="address">Obtendo endere√ßo...</span> 
      </div>
      
      </th>
  </tr>  
    
  

   <div id="mapLink"></div>

   </div>
   </table>
   <br>
   <table>
    


<tr>
  <th>Tipo de trabalho:</th>
  <td>
       <select name="Trabalho" id="Trabalho">Trabalho
  <option value="Instala√ß√£o">Instala√ß√£o</option>
  <option value="Mudan√ßa de Endere√ßo">Mudan√ßa de endere√ßo</option>
</select>
  </td>
</tr>


      <tr>
        <th>T√©cnico:</th>
        <td>
          <select id="tecnico">
    <option disabled selected value="">Selecione o t√©cnico</option>
    <option value="Andre">Andr√©</option>
    <option value="Elvis">Elvis</option>
    <option value="Guilherme">Guilherme</option>
    <option value="Janderson">Janderson</option>
    <option value="Robson">Robson</option>
    <option value="Sergio">S√©rgio</option>
</select>

        </td>
      </tr>
      <tr>
        <th>Cliente:</th>
        <td><input type="text" placeholder="Nome do Cliente" id="cliente"></td>
      </tr>
      <tr>
        <th>CTO:</th>
        <td><input placeholder="00 - Bairro" type="num" id="cto"></td>
      </tr>
      <tr>
        <th>Porta:</th>
        <td>
          <select id="porta">
            <option disabled selected value="">Selecione a porta</option>
            <option value="01">Porta 01</option>
            <option value="02">Porta 02</option>
            <option value="03">Porta 03</option>
            <option value="04">Porta 04</option>
            <option value="05">Porta 05</option>
            <option value="06">Porta 06</option>
            <option value="07">Porta 07</option>
            <option value="08">Porta 08</option>
            <option value="09">Porta 09</option>
            <option value="10">Porta 10</option>
            <option value="11">Porta 11</option>
            <option value="12">Porta 12</option>
            <option value="13">Porta 13</option>
            <option value="14">Porta 14</option>
            <option value="15">Porta 15</option>
            <option value="16">Porta 16</option>
          </select>
        </td>
      </tr>
      <tr>
        <th>Sinal da CTO:</th>
        <td><input type="text"  placeholder="-00.00" id="sinalCto"></td>
      </tr>
      <tr>
        <th>Sinal do Cliente:</th>
        <td><input type="text" placeholder="-00.00" id="sinalCliente"></td>
      </tr>
        <tr>
           
           </table>
           <br>
           <table>
           
           
        <th>Fibra metragem:</th>
        <td><input type="number" placeholder="00" onchange="atualizarQuantidadeRetirada(0, this.value)" id="fibraMetragem"></td>
      </tr>
      <tr>
        <th>Conector-APC:</th>
        <td><input type="number" placeholder="00" id="scApc" onchange="atualizarQuantidadeRetirada(1, this.value)"></td>
      </tr>
      <tr>
        <th>Anilha-Num:</th>
        <td><input type="number" placeholder="00" id="scUpc" onchange="atualizarQuantidadeRetirada(2, this.value)"></td>
      </tr>
      <tr>
        <th>Esticadores:</th>
        <td><input type="number" placeholder="00" id="esticadores" onchange="atualizarQuantidadeRetirada(3, this.value)"></td>
      </tr>
      <tr>
        <th>Roldana:</th>
        <td><input type="number" placeholder="00" id="roldana" onchange="atualizarQuantidadeRetirada(4, this.value)"></td>
      </tr>
      <tr>
        <th>Fecho:</th>
        <td><input type="number" placeholder="00" id="fecho" onchange="atualizarQuantidadeRetirada(5, this.value)"></td>
      </tr>
      <tr>
        <th>Anel:</th>
        <td><input type="number" placeholder="00" id="anel" onchange="atualizarQuantidadeRetirada(6, this.value)"></td>
      </tr>
      <tr>
        <th>Fita de a√ßo:</th>
        <td><input type="number" placeholder="00" id="fitaAco" onchange="atualizarQuantidadeRetirada(7, this.value)"></td>
      </tr>
      <tr>
        <th>Fixa fio:</th>
        <td><input type="number" placeholder="00" id="fixaFio" onchange="atualizarQuantidadeRetirada(8, this.value)"></td>
      </tr>
      <tr>
        <th>Pit√£o:</th>
        <td><input type="number" placeholder="00" id="pitao" onchange="atualizarQuantidadeRetirada(9, this.value)"></td>
      </tr>
      <tr>
        <th>Cabo de rede:</th>
        <td><input type="number" placeholder="00" id="caboRede" onchange="atualizarQuantidadeRetirada(10, this.value)"></td>
      </tr>
      <tr>
        <th>Conctor RJ45:</th>
        <td><input type="number" placeholder="00" id="concRj45" onchange="atualizarQuantidadeRetirada(11, this.value)"></td>
      </tr>
      <tr>
        <th>Kit fus√£o:</th>
        <td><input type="number" placeholder="00" id="kitFusao" onchange="atualizarQuantidadeRetirada(12, this.value)"></td>
      </tr>
      
      </table>
      <br>
      <table style="width: 100%">
      
      <tr style="display:none" >
  <th>Wifi 2.4GHz:</th>
  <td>
    <select name="opcoes24GHz" id="opcoes24GHz">
      <option value="Banda Auto" disabled selected>Banda Auto</option>
      <option value="Desabilitado">Desabilitado</option>
      <option value="Manter">Manter</option>
      <option value="20Mhz" selected>20Mhz</option>
      <option value="40Mhz">40Mhz</option>
    </select>

    <select id="canais24GHz">
      <option disabled selected value="CH Auto">CH Auto</option>
      <option value="Desabilitado">Desabilitado</option>
      <option value="Manter">Manter</option>
      <option value="CH01">CH01</option>
      <option value="CH06">CH06</option>
      <option value="CH11">CH11</option>
      <!-- Adicione mais canais, se necess√°rio -->
    </select>
  </td>
</tr>

<tr style="display:none">
  <th>Wifi 5GHz:</th>
  <td>
    <select name="opcoes5GHz" id="opcoes5GHz">
      <option value="Banda Auto" disabled selected>Banda Auto</option>
      <option value="Desabilitado">Desabilitado</option>
      <option value="Manter">Manter</option>
      <option value="40Mhz">40Mhz</option>
      <option value="80Mhz" selected >80Mhz</option>
      <option value="160Mhz">160Mhz</option>
    </select>

    <select id="canais5GHz">
      <option disabled selected value="CH Auto">CH Auto</option>
            <option value="Desabilitado">Desabilitado</option>
      <option value="Manter">Manter</option>
      <option value="CH36">CH36</option>
      <option value="CH44">CH44</option>
      <option value="CH52">CH52</option>
      <option value="CH149">CH149</option>      
      <option value="CH157">CH157</option>      
      <option value="CH165">CH165</option>



      <!-- Adicione mais canais, se necess√°rio -->
    </select>
  </td>
</tr>

<tr style="display:none">
 <th id="senhaWifi">Wifi:
 <td>
  <input id="ssid" type="text" placeholder="SSID"></input>
  <br>
  <input id="senha" type="text" placeholder="Senha"></input>
 </td>
</tr>

<p id="resultado"></p>
      
      
    </table>
    

   
    <br>
     <textarea id="comentarios1" placeholder="Coment√°rios..." rows="10" cols="35"></textarea>
     
          <div class="qr">
        <h3>Avalie no google</h3>
        <img src="/audio/QR.png" alt="/audio/QR.png">
        <br>
        <br>
        <br>
        <h3>App IndaiaFibra<br>Residencial</h3>
        <img src="/audio/app.png" alt="/audio/app.png">
        <br>
        <br>
        <br>
        <br>
     </div>
 
 <input type="text" id="clipboardInput" style="position: absolute; left: -9999px;">
 
     
     
<button id="enviar" class="sublinhado-ativo2 scale-button" onclick="enviar(); enviarbd(); sendMessageToTelegram();">
 <img class="logo" src="https://img.icons8.com/?size=512&id=yEmPT1iidhE0&format=png" height="50" width="50">
 <div id="spinner" class="spinner"></div>
</button>

     
  </div>
  
  
  </div>

  <div id="preferenciasDiv" class="preferencias" style="display: none">


   <h1>Preferencias do usu√°rio</h1>


   <div class="switch-container">
    <label class="switch">
     <input type="checkbox" id="toggleCopy" checked>
     <span class="slider round"></span>
    </label>
    <span class="botaoCopiar">Enviar quantidade de instala√ß√µes</span>
   </div>

   <div class="switch-container">
    <label class="switch">
     <input type="checkbox" id="toggleCopys" checked>
     <span class="slider round"></span>
    </label>
    <span class="botaoCopiar">Enviar localiza√ß√£o aproximada</span>
   </div>

   <div class="switch-container">
    <label class="switch">
     <input type="checkbox" id="toggleMap" checked>
     <span class="slider round"></span>
    </label>
    <span class="botaoCopiar">Mostrar Mini Mapa na tela</span>
   </div>
   
   <div class="switch-container">
  <label class="switch">
    <input type="checkbox" id="toggleClima">
    <span class="slider round"></span>
  </label>
  <span class="botaoCopiar">N√£o mostrar Clima</span>
</div>

   <h1>Bot√µes</h1>


<div class="switch-container">
  <label class="switch">
    <input type="checkbox" id="toggleInstalacoes">
    <span class="slider round"></span>
  </label>
  <span class="botaoCopiar">Mostrar hist√≥rico de Instala√ß√µes</span>
</div>

<div class="switch-container">
  <label class="switch">
    <input type="checkbox" id="toggleEstoque">
    <span class="slider round"></span>
  </label>
  <span class="botaoCopiar">Mostrar Estoque</span>
</div>

<div class="switch-container">
  <label class="switch">
    <input type="checkbox" id="toggleManutencao">
    <span class="slider round"></span>
  </label>
  <span class="botaoCopiar">Mostrar mapa de CTO</span>
</div>

   <h1>Som</h1>

   <div class="switch-container">
    <label class="switch">
     <input type="checkbox" id="toggleMute">
     <span class="slider round"></span>
    </label>
    <span class="botaoCopiar">Mutar Som</span>
   </div>

   <footer>
    <div id="userID">Carregando ID User...</div>
   </footer>

  </div>
  

  <div id="retiradaDiv">
    <table id="retirada">
      <p>Equipamento utilizado</p>
      <tr>
        <th>Produto</th>
        <th>Quantidade</th>
        <th>A√ß√µes</th>
      </tr>
    </table>
    <br>
  
      <input type="text" id="clipboardInput" style="position: absolute; left: -9999px;">
  
  <div id="map"></div>

  
  
   <div class="versiculo" id="dailyVersesWrapper"></div>
      <script async defer src="https://dailyverses.net/get/random.js?language=arc"></script></th>
      

  
  </div>
  
  
   
  



  <div id="instalacoes" class="instalacoes" style="display: none">
     





<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("/se.js")
    .then(() => console.log("Service Worker registrado com sucesso!"))
    .catch((error) => console.error("Erro ao registrar Service Worker:", error));
}
</script>




     
     
     
     
     
     
     
     
     
     
   
   <div  id="alerta1" class="alerta "></div>

   
    <div class="search-button" onclick="toggleSearch()">
  <i class="fas fa-search"></i>
</div>

    
    <div class="search-container" id="search-container">
<input type="text" placeholder="Pesquisar..." id="inputFind" required>
<button class="btnPesquisar" onclick="aplicarEstilo()">
  <i class="fas fa-arrow-right"></i>
</button>

    </div>

     <p>Total de Instala√ß√µes: <span id="total-elementos"></span></p>
     
      <p id="quantidade-por-mes"></p>
 
     
    <ul id="lista-dados-copiados"></ul>
    
<button id="btn-historico" class="BTN" onclick="excluirItensSelecionados()">
  <i class="fas fa-trash"></i>
</button>

  </div>




  <script>
  
  
function showPosition(position) {
  const latitude = position.coords.latitude;
  const longitude = position.coords.longitude;

  var mapLink = 'https://www.google.com/maps/search/?api=1&query=' + latitude + ',' + longitude;
  document.getElementById('mapLink').innerHTML = mapLink;
}

function getLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showPosition);
  } else {
    alert("Geolocaliza√ß√£o n√£o √© suportada por este navegador.");
  }
}

getLocation();
  
  
  document.getElementById('editLink').addEventListener('click', function(event) {
  event.preventDefault();
  var senha = prompt("Digite a senha para editar:");
  if (senha === 'editar') {
    window.open("https://www.google.com/maps/d/u/0/edit?hl=pt-BR&mid=1l_ch6qupuXz0Dnw6h9Vhom1Y1g3ibaY&ll=-23.104603351905947%2C-47.26240628194967&z=13", "_blank");
  } else {
    alert("Senha incorreta.");
  }
});
  
  
  
function ativarSublinhado(elemento) {
  const notification = document.getElementById('xselect');
   xselect.play();
  var elementosA = document.querySelectorAll("#nav a");
  elementosA.forEach(function(a) {
    a.classList.remove("sublinhado-ativo");
  });
  elemento.classList.add("sublinhado-ativo");
}

  
 // Obt√©m uma refer√™ncia ao elemento do nav
const nav = document.querySelector('#nav');

// Adiciona um event listener para verificar quando a classe .active √© adicionada ou removida do nav
nav.addEventListener('transitionend', function() {
  // Verifica se a classe .active est√° presente no nav
  const isActive = nav.classList.contains('active');

  // Obt√©m uma refer√™ncia ao elemento do body
  const body = document.querySelector('body');

  // Adiciona ou remove a classe .delta-active com base na presen√ßa da classe .active no nav
  if (isActive) {
    body.classList.add('delta-active');
  } else {
    body.classList.remove('delta-active');
  }
});
 
  
  
    
     // Seleciona o bot√£o de limpar armazenamento do DOM
const clearStorageBtn = document.querySelector("#clear-storage-btn");

// Adiciona um ouvinte de evento de clique ao bot√£o
clearStorageBtn.addEventListener("click", () => {
  // Exibe uma mensagem de confirma√ß√£o ao usu√°rio
  const confirmReset = confirm("Voc√™ tem certeza que deseja resetar o estoque?");

  // Verifica se o usu√°rio confirmou o reset
  if (confirmReset) {
    // Limpa o armazenamento local
    localStorage.clear();
    
    // Exibe uma mensagem de sucesso ao usu√°rio
    alert("Estoque resetado com sucesso!");
     // Recarrega a p√°gina
    location.reload();
  }
});




function mostrarEstoque() {
 const estoqueDiv = document.getElementById("estoqueDiv");
 const retiradaDiv = document.getElementById("retiradaDiv");
 const habilitar = document.getElementById("habilitar");
 const instalacoes = document.getElementById("instalacoes");
 const manutencaoDiv = document.getElementById("manutencaoDiv");
 const preferenciasDiv = document.getElementById("preferenciasDiv");

 if (estoqueDiv && retiradaDiv && habilitar && instalacoes && manutencaoDiv && preferenciasDiv) {
  estoqueDiv.style.display = "block";
  retiradaDiv.style.display = "none";
  habilitar.style.display = "none";
  instalacoes.style.display = "none";
  manutencaoDiv.style.display = "none";
  preferenciasDiv.style.display = "none";
 }
}

function mostrarRetirada() {
 const estoqueDiv = document.getElementById("estoqueDiv");
 const retiradaDiv = document.getElementById("retiradaDiv");
 const habilitar = document.getElementById("habilitar");
 const instalacoes = document.getElementById("instalacoes");
 const manutencaoDiv = document.getElementById("manutencaoDiv");
 const preferenciasDiv = document.getElementById("preferenciasDiv");

 if (estoqueDiv && retiradaDiv && habilitar && instalacoes && manutencaoDiv && preferenciasDiv) {
  estoqueDiv.style.display = "none";
  retiradaDiv.style.display = "block";
  habilitar.style.display = "block";
  instalacoes.style.display = "none";
  manutencaoDiv.style.display = "none";
  preferenciasDiv.style.display = "none";
 }
}

function mostrarInstalacoes() {
 const estoqueDiv = document.getElementById("estoqueDiv");
 const retiradaDiv = document.getElementById("retiradaDiv");
 const habilitar = document.getElementById("habilitar");
 const instalacoes = document.getElementById("instalacoes");
 const manutencaoDiv = document.getElementById("manutencaoDiv");
 const preferenciasDiv = document.getElementById("preferenciasDiv");

 if (estoqueDiv && retiradaDiv && habilitar && instalacoes && manutencaoDiv && preferenciasDiv) {
  estoqueDiv.style.display = "none";
  retiradaDiv.style.display = "none";
  habilitar.style.display = "none";
  instalacoes.style.display = "block";
  manutencaoDiv.style.display = "none";
  preferenciasDiv.style.display = "none";
 }
}

function mostrarManutencao() {
 const estoqueDiv = document.getElementById("estoqueDiv");
 const retiradaDiv = document.getElementById("retiradaDiv");
 const habilitar = document.getElementById("habilitar");
 const instalacoes = document.getElementById("instalacoes");
 const manutencaoDiv = document.getElementById("manutencaoDiv");
 const preferenciasDiv = document.getElementById("preferenciasDiv");

 if (estoqueDiv && retiradaDiv && habilitar && instalacoes && manutencaoDiv && preferenciasDiv) {
  estoqueDiv.style.display = "none";
  retiradaDiv.style.display = "none";
  habilitar.style.display = "none";
  instalacoes.style.display = "none";
  manutencaoDiv.style.display = "block";
  preferenciasDiv.style.display = "none";
 }
}

function mostrarPreferencias() {
 const estoqueDiv = document.getElementById('estoqueDiv');
 const retiradaDiv = document.getElementById('retiradaDiv');
 const habilitar = document.getElementById('habilitar');
 const instalacoes = document.getElementById('instalacoes');
 const manutencaoDiv = document.getElementById('manutencaoDiv');
 const preferenciasDiv = document.getElementById('preferenciasDiv');

 if (estoqueDiv && retiradaDiv && habilitar && instalacoes && manutencaoDiv && preferenciasDiv) {
  estoqueDiv.style.display = "none";
  retiradaDiv.style.display = "none";
  habilitar.style.display = "none";
  instalacoes.style.display = "none";
  manutencaoDiv.style.display = "none";
  preferenciasDiv.style.display = "block";
 }
}

function girarImagem(imagem) {
 imagem.classList.add('girar-img');

 // Remove a classe ap√≥s a anima√ß√£o, para que ela possa ser aplicada novamente em outro clique
 imagem.addEventListener('animationend', function() {
  imagem.classList.remove('girar-img');
 }, { once: null });
}

function flipImagem(imagem) {
 imagem.classList.add('flip-img');

 // Remove a classe ap√≥s a anima√ß√£o, para que ela possa ser aplicada novamente em outro clique
 imagem.addEventListener('animationend', function() {
  imagem.classList.remove('flip-img');
 }, { once: null });
}













function atualizarListaRegistros() {
  // Obter a refer√™ncia do elemento select
  const select = document.getElementById('registros');

  // Limpar as op√ß√µes existentes
  select.innerHTML = '<option value="" disabled selected>Selecione um registro</option>';

  // Obter os registros do Local Storage
  const registros = JSON.parse(localStorage.getItem('registros')) || [];

  // Adicionar cada registro como uma op√ß√£o no select
  registros.forEach((registro, index) => {
    const option = document.createElement('option');
    option.value = index;
    option.textContent = registro.dataHora + ' - ' + registro.cliente;
    select.appendChild(option);
  });

  // Atualizar o n√∫mero total de registros
  contarRegistros();
}

function contarRegistros() {
  // Obter os registros do Local Storage
  const registros = JSON.parse(localStorage.getItem('registros')) || [];

  // Obter a refer√™ncia do elemento para exibir o n√∫mero de registros
  const contador = document.getElementById('contador-registros');

  // Exibir o n√∫mero de registros
  contador.textContent = registros.length;
}

function enviarComentario() {
  // Obter os valores do nome do cliente e coment√°rios
  const cliente = document.getElementById('cliente1').value;
  const comentarios = document.getElementById('comentarios').value;

  // Verificar se os campos n√£o est√£o vazios
  if (cliente !== '' && comentarios !== '') {
    // Criar um objeto com as informa√ß√µes do registro
    const registro = {
      cliente: cliente,
      comentarios: comentarios,
      dataHora: new Date().toLocaleString()
    };

    // Obter os registros existentes do Local Storage
    let registros = JSON.parse(localStorage.getItem('registros')) || [];

    // Adicionar o novo registro √† lista de registros
    registros.push(registro);

    // Armazenar a lista ‚Å∑atualizada no Local Storage
    localStorage.setItem('registros', JSON.stringify(registros));

    // Limpar os campos do formul√°rio
    document.getElementById('cliente1').value = '';
    document.getElementById('comentarios').value = '';

    // Atualizar a lista de registros selecion√°veis
    atualizarListaRegistros();
  }
}

function selecionarRegistro() {
  // Obter o √≠ndice do registro selecionado
  const index = document.getElementById('registros').value;

  // Obter os registros do Local Storage
  const registros = JSON.parse(localStorage.getItem('registros')) || [];

  // Verificar se o √≠ndice √© v√°lido
  if (index >= 0 && index < registros.length) {
    // Obter o registro selecionado
    const registro = registros[index];

    // Preencher os campos do formul√°rio com as informa√ß√µes do registro
    document.getElementById('cliente1').value = registro.cliente;
    document.getElementById('comentarios').value = registro.comentarios;
  }
}

function excluirRegistro() {
  // Obter o √≠ndice do registro selecionado
  const index = document.getElementById('registros').value;

  // Obter os registros do Local Storage
  let registros = JSON.parse(localStorage.getItem('registros')) || [];

  // Verificar se o √≠ndice √© v√°lido
  if (index >= 0 && index < registros.length) {
    // Emitir o alerta de confirma√ß√£o
    const confirmacao = confirm("Voc√™ tem certeza que deseja excluir o registro?");
    
    if (confirmacao) {
      // Remover o registro da lista
      registros.splice(index, 1);

      // Armazenar a lista atualizada no Local Storage
      localStorage.setItem('registros', JSON.stringify(registros));

      // Limpar os campos do formul√°rio
      document.getElementById('cliente1').value = '';
      document.getElementById('comentarios').value = '';

      // Atualizar a lista de registros selecion√°veis
      atualizarListaRegistros();
      // Atualizar o n√∫mero total de registros
      contarRegistros();
    }
  }
}


  // Atualizar a lista de registros selecion√°veis ao carregar a p√°gina
  atualizarListaRegistros();

function contarRegistros() {
    // Obter os registros do Local Storage
    const registros = JSON.parse(localStorage.getItem('registros')) || [];

    // Exibir o total de registros
    const totalRegistros = registros.length;
    document.getElementById('totalRegistros').textContent = totalRegistros.toString();
  }

  // Atualizar a lista de registros selecion√°veis e o total de registros ao carregar a p√°gina
  atualizarListaRegistros();
  contarRegistros();













// Vari√°veis para armazenar os produtos e retiradas, utilizando o armazenamento local (localStorage)
let produtos = JSON.parse(localStorage.getItem("produtos")) || [
  { nome: "DROP", quantidade: 1000 },
  { nome: "Conrctor-APC", quantidade: 20 },
  { nome: "Anilha-Num", quantidade: 20 },
  { nome: "Esticadores", quantidade: 100 },
  { nome: "Roldana", quantidade: 100 },
  { nome: "Fecho", quantidade: 50 },
  { nome: "Anel", quantidade: 50 },
  { nome: "Fita a√ßo", quantidade: 50 },
  { nome: "Fixa fio", quantidade: 100 },
  { nome: "Pitao", quantidade: 100 },

  { nome: "Cabo de rede", quantidade: 300 },
  { nome: "Conc RJ45", quantidade: 20 },
  { nome: "Kit-Fusao", quantidade: 10 },
];





let retirada = JSON.parse(localStorage.getItem("retirada")) || [];


// Fun√ß√£o para atualizar a tabela de estoque com os produtos e suas quantidades
function atualizarTabelaEstoque() {
  // Obt√©m a refer√™ncia para a tabela de estoque
  let tabela = document.getElementById("estoque");
  
  // Limpa o conte√∫do atual da tabela
  tabela.innerHTML = "<tr><th>Produto</th><th>Quantidade</th><th>A√ß√µes</th></tr>";
  
  // Popula a tabela com os produtos
  for (let i = 0; i < produtos.length; i++) {
    let linha = tabela.insertRow(-1); // Insere uma nova linha na tabela
    let celulaNome = linha.insertCell(0); // Insere uma nova c√©lula na coluna 0 (Produto)
    let celulaQuantidade = linha.insertCell(1); // Insere uma nova c√©lula na coluna 1 (Quantidade)
    let celulaAcoes = linha.insertCell(2); // Insere uma nova c√©lula na coluna 2 (A√ß√µes)
    
    // Preenche as c√©lulas com os valores correspondentes
    celulaNome.innerHTML = produtos[i].nome;
    celulaQuantidade.innerHTML = `<input type="number" min="0" value="${produtos[i].quantidade}" onchange="atualizarQuantidadeEstoque(${i}, this.value)">`;
    celulaAcoes.innerHTML = `<div class='acoes'><button onclick="aumentarEstoque(${i})">+</button> <button onclick="diminuirEstoque(${i})">-</button> <button id="excluir" onclick="excluir(${i})">Excluir</button></div>`;
  }
}






  // Fun√ß√£o para atualizar a tabela de retirada com os  e suas quantidades
    function atualizarTabelaRetirada() {
      let tabela = document.getElementById("retirada");
      tabela.innerHTML = "<tr><th>Produto</th><th>Quantidade</th><th>A√ß√µes</th></tr>";
      for (let i = 0; i < retirada.length; i++) {
        if (retirada[i].adicionado) { // Verifica se o produto foi adicionado
          let linha = tabela.insertRow(-1);
          let celulaNome = linha.insertCell(0);
          let celulaQuantidade = linha.insertCell(1);
          let celulaAcoes = linha.insertCell(2);
          celulaNome.innerHTML = retirada[i].nome;
          celulaQuantidade.innerHTML = `<input type="number" min="0" value="${retirada[i].quantidade}" onchange="atualizarQuantidadeRetirada(${i}, this.value)">`;
          celulaAcoes.innerHTML = `<div class="acoes"><button onclick="aumentarRetirada(${i})">+</button> <button onclick="diminuirRetirada(${i})">-</button><div>`;
        }
      }
    }


    // Fun√ß√£o para aumentar a quantidade de um produto no estoque
    function aumentarEstoque(indice) {
      produtos[indice].quantidade++;
      atualizarTabelaEstoque();
      salvarDados();
    }

    // Fun√ß√£o para diminuir a quantidade de um produto no estoque
    function diminuirEstoque(indice) {
      if (produtos[indice].quantidade > 0) {
        produtos[indice].quantidade--;
        atualizarTabelaEstoque();
        salvarDados();
      }
    }

    // Fun√ß√£o para aumentar a quantidade de um produto na retirada
    function aumentarRetirada(indice) {
      retirada[indice].quantidade++;
      atualizarTabelaRetirada();
      salvarDados();
    }


    // Fun√ß√£o para diminuir a quantidade de um produto na retirada
    function diminuirRetirada(indice) {
      if (retirada[indice].quantidade > 0) {
        retirada[indice].quantidade--;
        atualizarTabelaRetirada();
        salvarDados();
      }
    }



    // Fun√ß√£o para adicionar um novo produto ao estoque e √† retirada
    function adicionar() {
      let nome = prompt("Nome do produto:"); // Solicita o nome do produto ao usu√°rio
      if (nome) {
        produtos.push({ nome, quantidade: 0, adicionado: true }); // Adiciona o produto √† lista de produtos com quantidade inicial 0 e a propriedade "adicionado" definida como true
        retirada.push({ nome, quantidade: 0, adicionado: true }); // Adiciona o produto √† lista de retirada com quantidade inicial 0 e a propriedade "adicionado" definida como true
        atualizarTabelaEstoque(); // Atualiza a tabela de estoque
        atualizarTabelaRetirada(); // Atualiza a tabela de retirada
        salvarDados(); // Salva os dados
      }
    }

    // Fun√ß√£o para excluir um produto do estoque e da retirada
    function excluir(indice) {
      let produto = produtos[indice]; // Obt√©m o produto correspondente ao √≠ndice fornecido
      if (produto && produto.adicionado) { // Verifica se o produto existe e se a propriedade "adicionado" √© true
        let nome = produto.nome; // Obt√©m o nome do produto
        produtos.splice(indice, 1); // Remove o produto da lista de produtos
        for (let i = 0; i < retirada.length; i++) {
          if (retirada[i].nome === nome) {
            retirada.splice(i, 1); // Remove o produto correspondente da lista de retirada
            break;
          }
        }
        atualizarTabelaEstoque(); // Atualiza a tabela de estoque
        atualizarTabelaRetirada(); // Atualiza a tabela de retirada
        salvarDados(); // Salva os dados
      }
    }



    // Fun√ß√£o para processar a retirada de produtos
    function enviar() {
 const notification = document.getElementById('notification');
 const botaoEnviar = document.getElementById('enviar'); // Bot√£o com o ID 'enviar'

 // Aplicar o efeito de escala
 botaoEnviar.classList.add('active');

 // Remover o efeito de escala ap√≥s 3 segundos
 setTimeout(() => {
  botaoEnviar.classList.remove('active');
 }, 3000);

 notification.play();
 getLocation();

 for (let i = 0; i < retirada.length; i++) {
  let produtoRetirado = retirada[i];
  for (let j = 0; j < produtos.length; j++) {
   if (produtos[j].nome === produtoRetirado.nome) {
    produtos[j].quantidade -= produtoRetirado.quantidade;
    break;
   }
  }
  produtoRetirado.quantidade = 0;
 }

 atualizarTabelaEstoque();
 atualizarTabelaRetirada();
 salvarDados();

 // Chamar a fun√ß√£o para copiar o conte√∫do ap√≥s o envio
 setTimeout(copiarConteudo, 200);
}

    // Array para armazenar os dados copiados
    let dadosCopiados = [];

    // Fun√ß√£o para copiar o conte√∫do atualizado para a √°rea de transfer√™ncia
    function copiarConteudo() {
      let copiado = '';




// Verifica se o toggle est√° ativado
const incluirQuantidadePorMes = document.getElementById('toggleCopy').checked;



  copiado += ` üë∑ T√©cnico: ${document.getElementById('tecnico').value}\n#`;
  copiado += `  ${document.getElementById('Trabalho').value}\n`;
  copiado += `## üë§ Cliente: ${document.getElementById('cliente').value}\n`;
copiado += ` üåê CTO: ${document.getElementById('cto').value}\n`;
copiado += ` üîå Porta: ${document.getElementById('porta').value}\n`;
copiado += ` üì° Sinal da CTO: ${document.getElementById('sinalCto').value}\n`;
copiado += ` üì∂  Sinal do Cliente: ${document.getElementById('sinalCliente').value}\n`;
copiado += `## üì¶ Materiais:\n`;

const campos = {
 'fibraMetragem': 'Metragem da Fibra',
 'scApc': 'Conector APC',
 'scUpc': 'Anilha Num.',
 'esticadores': 'Esticadores',
 'roldana': 'Roldana',
 'fecho': 'Fecho',
 'anel': 'Anel',
 'fitaAco': 'Fita de A√ßo',
 'fixaFio': 'Fixa fio',
 'pitao': 'Pit√£o',
 'caboRede': 'Cabo de rede',
 'concRj45': 'Conector RJ45',
 'kitFusao': 'Kit fus√£o'
};

let algumMaterialUtilizado = false;
Object.keys(campos).forEach((campo) => {
 const valorCampo = document.getElementById(campo).value;
 if (valorCampo.trim() !== "") {
  copiado += `${campos[campo]}: ${valorCampo}\n`;
  algumMaterialUtilizado = true;
 }
});

if (!algumMaterialUtilizado) {
 copiado += "N√£o foi utilizado materiais!\n";
}

/*
copiado += `## üõú Configura√ß√µes:\n`;
copiado += `Wifi 2.4GHz:\n`;
copiado += ` ${document.getElementById('opcoes24GHz').value} |`;
copiado += ` ${document.getElementById('canais24GHz').value}\n`;

copiado += `# Wifi 5GHz:\n`;
copiado += ` ${document.getElementById('opcoes5GHz').value} |`;
copiado += ` ${document.getElementById('canais5GHz').value}\n`;
*/

  // Verifica se o toggle est√° ativado
const copiarLocalizacao = document.getElementById('toggleCopys').checked;

if (copiarLocalizacao) {
 const localizacao = document.getElementById('mapLink').textContent;
 if (localizacao.trim() !== "") {
  // Adiciona o nome da rua ao texto copiado
 }
}

const comentarios = document.getElementById('comentarios1').value;
if (comentarios.trim() !== "") {
 copiado += "##Coment√°rios:\n";
 copiado += `${comentarios}\n`;
}

// Estrutura da 1¬™ tabela (copiar)
if (incluirQuantidadePorMes) {
 const quantidadePorMesElement = document.getElementById('quantidade-por-mes');
 if (quantidadePorMesElement) {
  const paragraphs = quantidadePorMesElement.getElementsByTagName('p');
  if (paragraphs.length > 0) {
   const lastParagraph = paragraphs[paragraphs.length - 1].textContent;
   if (lastParagraph.trim() !== "") {
    copiado += `##Instala√ß√µes no m√™s de ${lastParagraph}\n##`;
   }
  }
 }
}






//Construir a string com a estrutura desejada, substituindo as quebras de linha pelo caractere "#"
//esse √© o que copia *favor habilitar
for (let i = 0; i < produtos.length; i++) "###**Meu Estoque**#"

//{copiado += `${produtos[i].nome}:${produtos[i].quantidade}#`;}

// Substituir o "#" por quebras de linha (\n)
copiado = copiado.replace(/#/g, '\n');



      // Crie um elemento de input tempor√°rio
      const tempInput = document.createElement('textarea');
      tempInput.style.position = 'absolute';
      tempInput.style.left = '-9999px';
      tempInput.value = copiado;

      // Anexe o elemento de input ao corpo do documento
      document.body.appendChild(tempInput);

      // Selecione o texto no elemento de input
      tempInput.select();
      
      

      // Copie o texto para a √°rea de transfer√™ncia
      document.execCommand('copy')

      // Remova o elemento de input tempor√°rio
      document.body.removeChild(tempInput);
        (copiado)

      document.getElementById("tecnico").selectedIndex = 0;
      document.getElementById("cliente").value = "";
      document.getElementById("fibraMetragem").value = "";
      document.getElementById("cto").value = "";
      document.getElementById("porta").selectedIndex = 0;
      document.getElementById("sinalCto").value = "";
      document.getElementById("sinalCliente").value = "";
      document.getElementById("scApc").value = "";
      document.getElementById("scUpc").value = "";
      document.getElementById("esticadores").value = "";
      document.getElementById("roldana").value = "";
      document.getElementById("fecho").value = "";
      document.getElementById("anel").value = "";
      document.getElementById("fitaAco").value = "";
      document.getElementById("fixaFio").value = "";
      document.getElementById("pitao").value = "";
      document.getElementById("caboRede").value = "";
      document.getElementById("concRj45").value = "";
      document.getElementById("kitFusao").value = "";


      // Abra o WhatsApp e cole o conte√∫do copiado pin1
//var mensagem = '** ‚öô ùïÄùïüùïïùïíùïöùïíùîΩùïöùïìùï£ùïí**\n' + copiado + '\n\n**Obrigado !**';

//var urlTelegram = 'https://t.me/share/url?url=' + encodeURIComponent(mensagem);window.location.href = urlTelegram;

setTimeout(function() {
 window.open('https://t.me/c/1989058391/38071', '_blank');
}, 2500);



      // Adicionar a string copiada ao array de dadosCopiados
      dadosCopiados.push({
        data: new Date().toLocaleString(), // Data e hora atual
        conteudo: copiado
      });


      // Salvar os dados copiados no armazenamento local
      salvarDadosCopiados();

      // Exibir a lista de dados copiados na tela
      exibirDadosCopiados();
    }

 // Fun√ß√£o para exibir a lista de dados copiados na tela
function exibirDadosCopiados() {
  
const countByMonth = {};

for (let i = 0; i < dadosCopiados.length; i++) {
  const item = dadosCopiados[i];
  const parts = item.data.match(/^(\d{2})\/(\d{2})\/(\d{4}), (\d{2}):(\d{2}):(\d{2})$/);

  if (parts) {
    const dia = parseInt(parts[1], 10);
    const mes = parseInt(parts[2], 10) - 1; // M√™s √© zero-based no JavaScript (janeiro = 0)
    const ano = parseInt(parts[3], 10);
    const hora = parseInt(parts[4], 10);
    const minuto = parseInt(parts[5], 10);
    const segundo = parseInt(parts[6], 10);

    const data = new Date(ano, mes, dia, hora, minuto, segundo);

    const monthIndex = data.getMonth();
    const monthName = getMonthName(monthIndex);

    if (countByMonth[monthName]) {
      countByMonth[monthName]++;
    } else {
      countByMonth[monthName] = 1;
    }
  } else {
    console.error('Formato de data inv√°lido:', item.data);
    continue; // Pule para a pr√≥xima itera√ß√£o do loop
  }
}


// Restante do seu c√≥digo para exibir a quantidade por m√™s


function getMonthName(monthIndex) {
  const months = [
    'janeiro', 'fevereiro', 'mar√ßo', 'abril', 'maio', 'junho',
    'julho', 'agosto', 'setembro', 'outubro', 'novembro', 'dezembro'
  ];
  return months[monthIndex];
}

// Criar elementos <p> para cada m√™s e exibir a quantidade total
const countByMonthElement = document.getElementById('quantidade-por-mes');
countByMonthElement.innerHTML = '';

let lastMonthValue = null; // Vari√°vel para armazenar o valor do √∫ltimo m√™s

for (const month in countByMonth) {
  const pElement = document.createElement('p');
  pElement.textContent = `${month}: ${countByMonth[month]}`;
  countByMonthElement.appendChild(pElement);

  // Atualiza o valor do √∫ltimo m√™s a cada itera√ß√£o
  lastMonthValue = countByMonth[month];
}

// Seleciona a div com id 'ultimomes'
const divUltimoMes = document.getElementById('ultimomes');

// Atualiza o conte√∫do da div com o valor do √∫ltimo m√™s
if (lastMonthValue !== 0 && lastMonthValue !== null) {
  if (lastMonthValue > 35) {
    divUltimoMes.innerHTML = `Parab√©ns, pode descansar, j√° foi <strong>${lastMonthValue}</strong> instala√ß√µes nesse m√™s!`;
  } else if (lastMonthValue > 20) {
    divUltimoMes.innerHTML = `Parab√©ns, j√° foram <strong>${lastMonthValue}</strong> instala√ß√µes nesse m√™s!`;
  } else {
    divUltimoMes.textContent = `Voc√™ fez, ${lastMonthValue} instala√ß√µes nesse m√™s!`;
  }
}
  
  
  
  // Limpar o conte√∫do atual da lista
  const listaElement = document.getElementById('lista-dados-copiados');
  listaElement.innerHTML = '';

  // Percorrer o array de dadosCopiados e criar um elemento de lista para cada item
  for (let i = 0; i < dadosCopiados.length; i++) {
    const item = dadosCopiados[i];

    // Criar um elemento de lista e adicionar a classe 'item-lista'
    const listItemElement = document.createElement('li');
    listItemElement.classList.add('item-lista');

// Criar um elemento de caixa de sele√ß√£o e adicionar a classe 'checkbox-item'
const checkboxElement = document.createElement('input');
checkboxElement.type = 'checkbox';
checkboxElement.classList.add('checkbox-item');
checkboxElement.value = i; // Definir o valor da caixa de sele√ß√£o como o √≠ndice do item
listItemElement.appendChild(checkboxElement);



// Selecione todos os checkboxes
var checkboxes = document.querySelectorAll('input[type="checkbox"]');
var button = document.getElementById("btn-historico");

function updateButtonVisibility() {
  var anyChecked = Array.from(checkboxes).some(checkbox => checkbox.checked);

  if (anyChecked) {
    button.style.display = "inline-block"; // Mostrar o bot√£o
  } else {
    button.style.display = "block"; // Esconder o bot√£o
  }
}



// Adicionar ouvintes de eventos para todos os checkboxes
checkboxes.forEach(function(checkbox) {
  checkbox.addEventListener('click', updateButtonVisibility);
});

// Inicializar a visibilidade do bot√£o ao carregar a p√°gina
updateButtonVisibility();


    
    

    // Criar um elemento de texto com as informa√ß√µes do item
    const dataHora = new Date(item.data).toLocaleString('pt-br');
    
    const nomeCliente = extrairNomeCliente(item.conteudo);
    const textElement = document.createElement('p');
       textElement.classList.add('abaRegistros')
       
       
// Criar um novo elemento de texto
const dataElement = document.createElement('p');

// Definir o conte√∫do como o valor de item.data
dataElement.textContent = `${item.data}`;

// Adicionar uma classe ao elemento
dataElement.classList.add('classe-Data');

// Adicionar o elemento ao elemento pai desejado (por exemplo, uma lista)
listItemElement.appendChild(dataElement);
    
    textElement.textContent = ` ${nomeCliente}`;
    textElement.classList.add('classe-Cliente');
    
    listItemElement.appendChild(textElement);
    
    // Criar um novo elemento pai
const containerElement = document.createElement('div1');

// Adicionar os elementos Cliente e Data ao elemento pai
containerElement.appendChild(dataElement);
containerElement.appendChild(textElement);

// Adicionar o elemento pai ao elemento desejado (por exemplo, uma lista)
listItemElement.appendChild(containerElement);



const ctoPortaElement = document.createElement('h4');
ctoPortaElement.classList.add('abaDados');

const cto = extrairCTO(item.conteudo);
const porta = extrairPorta(item.conteudo);
const sinal = extrairSinalCTO(item.conteudo);





// Crie elementos span para cada item e adicione classes a eles

const ctoElement = document.createElement('h4');
ctoElement.textContent = `CTO: ${cto}`;


const portaElement = document.createElement('h4');
portaElement.textContent = `Porta: ${porta}`;


portaElement.classList.add('classe-porta'); // Adicione a classe para Porta

const sinalElement = document.createElement('h4');
sinalElement.textContent = `${sinal}`;
sinalElement.classList.add('classe-sinal'); // Adicione a classe para Sinal

// Adicione os elementos span ao elemento h4
ctoPortaElement.appendChild(dataElement);
ctoPortaElement.appendChild(textElement);
ctoPortaElement.appendChild(ctoElement);
ctoPortaElement.appendChild(portaElement);
ctoPortaElement.appendChild(sinalElement);
ctoPortaElement.appendChild(checkboxElement);


listItemElement.appendChild(ctoPortaElement);



// Fun√ß√£o para extrair a informa√ß√£o do link do mapa do conte√∫do copiado
function extrairLinkMapa(conteudo) {
  const indiceInicioLinkMapa = conteudo.indexOf('https') ; // Adicionado 12 para compensar o comprimento da palavra "Localiza√ß√£o:"
  const indiceFimLinkMapa = conteudo.indexOf('\n', indiceInicioLinkMapa);
  const linkMapa = conteudo.substring(indiceInicioLinkMapa, indiceFimLinkMapa);
  return linkMapa;
}

// Crie o elemento h4 para o link do mapa e adicione uma classe a ele
const linkMapaElement = document.createElement('h4');
linkMapaElement.textContent = `Localiza√ß√£o: ${extrairLinkMapa(item.conteudo)}`;
linkMapaElement.classList.add('classe-link-mapa'); // Adicione a classe para o link do mapa

// Crie um elemento <a> e defina o atributo href com o link do mapa
const linkElement = document.createElement('a');
linkElement.href = extrairLinkMapa(item.conteudo);
linkElement.target = '_blank'; // Abra o link em uma nova p√°gina

// Crie um elemento <img> para o √≠cone do marcador de posi√ß√£o
const iconElement = document.createElement('img');
iconElement.src = 'https://img.icons8.com/stickers/100/signpost.png'; // Link do √≠cone fornecido
iconElement.style.width = '40px'; // Defina a largura do √≠cone
iconElement.style.height = '40px'; // Defina a altura do √≠cone

// Adicione o √≠cone ao elemento <a>
linkElement.appendChild(iconElement);

// Substitua o elemento h4 pelo elemento <a> para tornar o link clic√°vel
linkMapaElement.textContent = '';
linkMapaElement.appendChild(linkElement);
ctoPortaElement.appendChild(linkMapaElement);




// Fun√ß√£o para extrair a informa√ß√£o da CTO do conte√∫do copiado
function extrairCTO(conteudo) {
  const indiceInicioCTO = conteudo.indexOf('CTO:') + 5;
  const indiceFimCTO = conteudo.indexOf('\n', indiceInicioCTO);
  const cto = conteudo.substring(indiceInicioCTO, indiceFimCTO);
  return cto;
}

// Fun√ß√£o para extrair a informa√ß√£o do Sinal da CTO do conte√∫do copiado
function extrairSinalCTO(conteudo) {
  const indiceInicioSinalCTO = conteudo.indexOf('Sinal') + 0;
  const indiceFimSinalCTO = conteudo.indexOf('\n', indiceInicioSinalCTO);
  const sinalCTO = conteudo.substring(indiceInicioSinalCTO, indiceFimSinalCTO);
  return sinalCTO;
}


// Fun√ß√£o para extrair a informa√ß√£o da Porta do conte√∫do copiado
function extrairPorta(conteudo) {
  const indiceInicioPorta = conteudo.indexOf('Porta: ') + 7;
  const indiceFimPorta = conteudo.indexOf('\n', indiceInicioPorta);
  const porta = conteudo.substring(indiceInicioPorta, indiceFimPorta);
  return porta;
}



// Adicionar o item √† lista
listaElement.appendChild(listItemElement);
}

// Atualizar o n√∫mero total de elementos
const totalElement = document.getElementById('total-elementos');
totalElement.textContent = dadosCopiados.length;
}



    // Fun√ß√£o para extrair o nome do cliente do conte√∫do copiado
    function extrairNomeCliente(conteudo) {
      // Encontrar o √≠ndice inicial do nome do cliente
      const indiceInicio = conteudo.indexOf('Cliente: ') + 9;
      // Encontrar o √≠ndice final do nome do cliente
      const indiceFim = conteudo.indexOf('\n', indiceInicio);
      // Extrair o nome do cliente usando os √≠ndices
      const nomeCliente = conteudo.substring(indiceInicio, indiceFim);
      return nomeCliente;
    }

    // Fun√ß√£o para excluir os itens selecionados
    function excluirItensSelecionados() {
      const checkboxes = document.querySelectorAll('.checkbox-item');
      const indicesSelecionados = [];

      checkboxes.forEach((checkbox, index) => {
        if (checkbox.checked) {
          indicesSelecionados.push(parseInt(checkbox.value));
        }
      });

      if (indicesSelecionados.length === 0) {
        alert('Nenhum item selecionado para exclus√£o.');
        return;
      }

      // Exibir a confirma√ß√£o de exclus√£o
      const confirmacao = confirm('Tem certeza que deseja excluir os itens selecionados?');

      if (confirmacao) {
        // Ordenar os √≠ndices em ordem decrescente
        indicesSelecionados.sort((a, b) => b - a);
        

        // Excluir os itens selecionados do array de dadosCopiados
        indicesSelecionados.forEach((indice) => {
          dadosCopiados.splice(indice, 1);
        });

        salvarDadosCopiados(); // Salvar os dados atualizados no armazenamento local
        exibirDadosCopiados(); // Atualizar a exibi√ß√£o dos dados copiados na tela

        alert('Itens selecionados foram exclu√≠dos com sucesso.');
      }
      const notification = document.getElementById('recycler');
recycler.play();
    }

    // Fun√ß√£o para salvar os dados copiados no armazenamento local
    function salvarDadosCopiados() {
      localStorage.setItem('dadosCopiados', JSON.stringify(dadosCopiados));
    }

    // Fun√ß√£o para carregar os dados copiados do armazenamento local
    function carregarDadosCopiados() {
      const dadosSalvos = localStorage.getItem('dadosCopiados');
      if (dadosSalvos) {
        dadosCopiados = JSON.parse(dadosSalvos);
        exibirDadosCopiados();
      }
    }
    // Fun√ß√£o para limpar os dados copiados
    function limparDadosCopiados() {
      dadosCopiados = [];
      salvarDadosCopiados();
      exibirDadosCopiados();
    }

    // Chamar a fun√ß√£o carregarDadosCopiados() quando a p√°gina for carregada
    window.addEventListener('load', carregarDadosCopiados);

    // Chamar a fun√ß√£o carregarDadosCopiados() ao abrir a p√°gina
    carregarDadosCopiados();








    function atualizarQuantidadeEstoque(indice, quantidade) {
      produtos[indice].quantidade = parseInt(quantidade);
      salvarDados();
    }

    function atualizarQuantidadeRetirada(indice, quantidade) {
      retirada[indice].quantidade = parseInt(quantidade);
      salvarDados();
    }

    function salvarDados() {
      localStorage.setItem("produtos", JSON.stringify(produtos));
      localStorage.setItem("retirada", JSON.stringify(retirada));
    }

    // Inicializa a tabela de retirada com os mesmos produtos da tabela de estoque
    if (retirada.length === 0) {
      for (let i = 0; i < produtos.length; i++) {
        retirada.push({ nome: produtos[i].nome, quantidade: 0 });
      }
    }

    atualizarTabelaEstoque();
    atualizarTabelaRetirada();

    document.getElementById("habilitar").addEventListener("submit", function(event) {
      event.preventDefault(); // Impede o envio padr√£o do formul√°rio
      // Realiza a a√ß√£o de envio aqui (por exemplo, enviar dados para o servidor)

    });

    // Obt√©m todos os elementos de entrada
    var inputs = document.getElementsByTagName('input');

    // Itera sobre todos os elementos de entrada e adiciona o manipulador de eventos
    for (var i = 0; i < inputs.length; i++) {
      inputs[i].addEventListener('focus', clearInput);
    }

    // Fun√ß√£o para limpar o valor do input
    function clearInput(event) {
      event.target.value = '';
    }

function formatInput(e) {
            let value = e.target.value;

            // Remove todos os caracteres que n√£o s√£o d√≠gitos ou v√≠rgula
            value = value.replace(/[^0-9,]/g, '');

            // Garante que sempre tenha um sinal negativo no in√≠cio
            value = '-' + value;

            // Adiciona a v√≠rgula se n√£o estiver presente no lugar certo
            if (value.length > 3 && value.indexOf(',') !== 3) {
                value = value.slice(0, 3) + ',' + value.slice(3);
            }

            // Limita o n√∫mero de caracteres antes da v√≠rgula
            if (value.length > 6) {
                value = value.slice(0, 6);
            }

            // Atualiza o valor do input
            e.target.value = value;
        }

        document.getElementById('sinalCto').addEventListener('input', formatInput);
        document.getElementById('sinalCliente').addEventListener('input', formatInput);
        



    // Obt√©m os itens do menu
    const menuItems = document.querySelectorAll("#menu li a");

    // Fun√ß√£o para remover a classe "active" do elemento de navega√ß√£o
    function removeActiveClass() {
      const nav = document.getElementById("nav");
      nav.classList.remove("active");
    }

    // Adiciona o evento de clique a cada item do menu
    menuItems.forEach(function(item) {
      item.addEventListener("click", removeActiveClass);
    });


/*function desable{

 // Fun√ß√£o para enviar mensagem pelo WhatsApp
 function enviarMensagemWhatsApp() {
   // Construir a mensagem com produtos e quantidades
   var mensagem = 'Preciso de materiais da uma olhada\n\n'+'**Meu estoque:**'+'\n\n';
   for (let i = 0; i < produtos.length; i++) {
     mensagem += produtos[i].nome + ': ' + produtos[i].quantidade + '\n';
   }
   

   // Codificar a mensagem para uso na URL
   var mensagemCodificada = encodeURIComponent(mensagem);

   // Montar o link para o WhatsApp
   var linkWhatsApp = 'https://t.me/share/url?url=' + mensagemCodificada;

   // Abrir o WhatsApp no navegador
   window.open(linkWhatsApp);
 }
 
}

*/



 function enviarMensagemWhatsApp() {
   window.open('https://docs.google.com/forms/d/e/1FAIpQLSeUZe8z_eTjLWmVlaGqlRbEQexLFsj62gt07w0_kUvEK0uUpA/viewform?usp=sf_link', '_blank');
}


function verificarTercaFeira() {
  var dataAtual = new Date();
  var diaSemana = dataAtual.getDay();

  if (diaSemana === 2) {
    var alertaExibido = sessionStorage.getItem('alertaExibido');

    if (!alertaExibido) {
      exibirAlerta();
    }
  }
}

function exibirAlerta() {
  document.getElementById('alerta').style.display = 'block';
}

function prosseguir() {
  sessionStorage.setItem('alertaExibido', 'true');
  // Redirecionar para o link do formul√°rio de pedido de material
  window.location.href = 'https://forms.gle/hLhheg9B6CMuParT6';
}

function fecharAlerta() {
  document.getElementById('alerta').style.display = 'none';
}




function search() {
    var searchInput = document.getElementById('searchInput').value;
    var searchResults = document.getElementById('searchResults');
    var pageContent = document.body.innerText;

    var regex = new RegExp(searchInput, 'gi');
    var matches = pageContent.match(regex);

    if (matches) {
        searchResults.innerHTML = matches.join('<br>');
    } else {
        searchResults.innerHTML = 'No matches found.';
    }
}





document.getElementById('searchInput').addEventListener('input', function() {
    var searchValue = this.value.toLowerCase();
    var checkboxes = document.querySelectorAll('.instalacoes input[type="checkbox"]');
    
    checkboxes.forEach(function(checkbox) {
        var label = checkbox.parentNode;
        var checkboxValue = checkbox.value.toLowerCase();
        
        if (checkboxValue.indexOf(searchValue) !== -1) {
            label.style.display = 'block';
        } else {
            label.style.display = 'none';
        }
    });
});





setInterval(verificarTercaFeira, 000);

 
 
function showPosition(position) {
  var lat = position.coords.latitude;
  var lng = position.coords.longitude;

  var mapLink = '   https://www.google.com/maps?q=' + lat + ',' + lng;
  document.getElementById('mapLink').innerHTML = '<a href="' + mapLink + '" target="_blank">' + mapLink + '</a>';
}

function getLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showPosition);
  } else {
    alert("Geolocaliza√ß√£o n√£o √© suportada por este navegador.");
  }
}

getLocation();


function toggleSearch() {
    var searchContainer = document.getElementById('search-container');
    if (searchContainer.style.display === 'block') {
        searchContainer.style.display = 'none';
    } else {
        searchContainer.style.display = 'block';
    }
}

function aplicarEstilo() {
  const valor = document.getElementById('inputFind').value;
  const itensRegistros = document.querySelectorAll('.classe-Client');
  const itensDados = document.querySelectorAll('.abaDados');
  const itensLista = document.querySelectorAll('.item-lista');
  const alerta = document.getElementById('alerta1');

  let encontrado = 0;
  let resultados = [];

  // Fun√ß√£o auxiliar para estilizar e exibir/ocultar itens
  function estilizarItens(itens) {
    itens.forEach(item => {
      if (item.textContent.includes(valor)) {
        resultados.push(item.outerHTML);
        item.classList.add('slidein');
        item.style.display = 'block'; // Mostrar item
        item.scrollIntoView({ behavior: 'smooth', block: 'center' });
        encontrado++;
      } else {
        item.classList.remove('slidein');
        item.style.display = 'none'; // Ocultar item
      }
    });
  }

  // Aplicando estilo aos itensRegistros, itensDados e itensLista
  estilizarItens(itensRegistros);
  estilizarItens(itensDados);
  estilizarItens(itensLista);

  if (encontrado === 0) {
    alert('Nada encontrado');
    alerta.innerHTML = '';
    alerta.style.display = 'none';
  } else {
    let valorDividido = encontrado / 2; // Dividir o valor por 2
    alerta.innerHTML = "Encontrados: " + valorDividido;
    alerta.style.display = 'block';
    setTimeout(() => {
      alerta.style.display = 'none';
    }, 25000); // Esconde a div ap√≥s 25 segundos
  }
}
setInterval(showPosition, 100);

  </script>
  
  
  
  <script>
   
   const apiKey = 'bcc87782e12e76152ba5a1badd935e0a';

        function verificarChuva() {
 if (navigator.geolocation) {
  navigator.geolocation.getCurrentPosition(showPosition, showError);
 } else {
  alert("Geolocaliza√ß√£o n√£o √© suportada por este navegador.");
 }
}

function showPosition(position) {
 const lat = position.coords.latitude;
 const lon = position.coords.longitude;

 const url = `http://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apiKey}&lang=pt_br&units=metric`;

 fetch(url)
  .then(response => response.json())
  .then(data => {
   const previsao = data.weather[0].description;
   if (previsao.toLowerCase().includes('chuva')) {
    document.getElementById('').innerText = `Vai chover. Descri√ß√£o: ${previsao}`;
   } else {
    document.getElementById('resultado').innerText = ''; // Limpa a mensagem se n√£o for chover
   }
  })
}

function showError(error) {
 switch (error.code) {
  case error.PERMISSION_DENIED:
   alert("Usu√°rio negou a solicita√ß√£o de Geolocaliza√ß√£o.");
   break;
  case error.POSITION_UNAVAILABLE:
   alert("Informa√ß√£o de localiza√ß√£o n√£o est√° dispon√≠vel.");
   break;
  case error.TIMEOUT:
   alert("A solicita√ß√£o para obter a localiza√ß√£o demorou muito.");
   break;
  case error.UNKNOWN_ERROR:
   alert("Ocorreu um erro desconhecido.");
   break;
 }
}
        verificarChuva()

  </script>
  
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://cdn.ably.io/lib/ably.min-1.js"></script>
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://cdn.ably.io/lib/ably.min-1.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/uuid/8.3.2/uuid.min.js"></script>
<script>
 // Gerar UUID para identificar o usu√°rio
 var userId = localStorage.getItem('userId') || uuid.v4();
 localStorage.setItem('userId', userId);

 document.getElementById('userID').innerText = "User ID: " + userId;

 var ably = new Ably.Realtime('ynrGug.SXDJOg:aoStJmyUcLlpwgEzYsJt8CFDsTBCq-yMjqNn6_DkgvM');
 var channel = ably.channels.get('user-location');

 var map = L.map('mapReal').setView([0, 0], 13);
 L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: '&copy; GuiMarx'
 }).addTo(map);
 var marker = L.marker([0, 0]).addTo(map).bindPopup("Voc√™ est√° aqui!").openPopup();

 var nomeRua = ''; // Vari√°vel global para armazenar o nome da rua

 function updateMarker(lat, lon) {
  var latlng = L.latLng(lat, lon);
  map.setView(latlng, 15);
  marker.setLatLng(latlng).update();

  var url = `https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${lat}&lon=${lon}`;
  fetch(url)
   .then(response => response.json())
   .then(data => {
    nomeRua = data.address.road || 'Nome da rua n√£o encontrado'; // Armazena o nome da rua
    var address = 'Voc√™ est√° em: ' + '<br>' + nomeRua + '<br>' + (data.address.suburb || '');
    marker.bindPopup(address).openPopup();
   })
   .catch(error => {
    console.error('Erro ao obter endere√ßo:', error);
   });
 }

 if (navigator.geolocation) {
  navigator.geolocation.watchPosition(function(position) {
   var lat = position.coords.latitude;
   var lon = position.coords.longitude;
   updateMarker(lat, lon);

   // Envia a localiza√ß√£o para o Ably com o ID do usu√°rio
   channel.publish('location-update', { userId: tecnico.value, lat: lat, lon: lon });
  }, function(error) {
   alert("Erro ao obter localiza√ß√£o: " + error.message);
  }, { enableHighAccuracy: true });
 } else {
  alert("Geolocaliza√ß√£o n√£o √© suportada pelo seu navegador.");
 }

 // Para continuar enviando localiza√ß√£o em background
 if (window.Worker) {
  var worker = new Worker('location-worker.js');
  worker.onmessage = function(e) {
   var lat = e.data.lat;
   var lon = e.data.lon;
   updateMarker(lat, lon);
   channel.publish('location-update', { userId: userId, lat: lat, lon: lon });
  };
  worker.postMessage('start');
 }

 // Fun√ß√£o para gerar o texto copiado
 function generateCopiedText() {
  let copiado = '';

  // Seu c√≥digo existente para gerar o texto copiado

  copiado += `## Wifi:\n`;
  copiado += ` ${document.getElementById('ssid').value}\n`;
  copiado += ` ${document.getElementById('senha').value}\n`;


  // Seu c√≥digo existente continua

  return copiado;
 }
</script>
 
<script>
  async function sendMessageToTelegram() {
    const botToken = '7234042339:AAHtvil_xNYadCcYZ3zLBI8ohO5mBwKeuvo';
    
    // üîπ Busca todos os usu√°rios registrados no MockAPI
    const usersResponse = await fetch('https://67ef52aec11d5ff4bf7c4f30.mockapi.io/users');
    const users = await usersResponse.json();
    
    // üîπ Lista de chat IDs registrados
    const chatIds = users.map(user => user.chatId);
    
    if (chatIds.length === 0) {
      console.log('Nenhum usu√°rio registrado para receber mensagens.');
      return;
    }
    
    // üîπ Obtendo o conte√∫do copiado
    let copiado = '';
    
    // Estrutura da 1¬™ tabela (copiar)
    const quantidadePorMesElement = document.getElementById('quantidade-por-mes');
    if (quantidadePorMesElement) {
      const paragraphs = quantidadePorMesElement.getElementsByTagName('p');
      if (paragraphs.length > 0) {
        const lastParagraph = paragraphs[paragraphs.length - 1].textContent;
        if (lastParagraph.trim() !== "") {
          copiado += `##Instala√ß√µes no m√™s de ${lastParagraph}\n`;
        }
      }
    }
    
    copiado += `O t√©cnico: ${document.getElementById('tecnico').value}\n`;
    copiado += `Deseja fazer uma ${document.getElementById('Trabalho').value}\n`;
    copiado += `##Cliente: ${document.getElementById('cliente').value}\n`;
    copiado += `CTO: ${document.getElementById('cto').value}\n`;
    copiado += `Porta: ${document.getElementById('porta').value}\n`;
    copiado += `Sinal da CTO: ${document.getElementById('sinalCto').value}\n`;
    copiado += `Sinal do Cliente: ${document.getElementById('sinalCliente').value}\n`;
    copiado += `## üì¶ - Materiais:\n`;
    
    const campos = {
      'fibraMetragem': 'Metragem da Fibra',
      'scApc': 'Conector APC',
      'scUpc': 'Anilha Num.',
      'esticadores': 'Esticadores',
      'roldana': 'Roldana',
      'fecho': 'Fecho',
      'anel': 'Anel',
      'fitaAco': 'Fita de A√ßo',
      'fixaFio': 'Fixa fio',
      'pitao': 'Pit√£o',
      'caboRede': 'Cabo de rede',
      'concRj45': 'Conector RJ45',
      'kitFusao': 'Kit fus√£o'
    };
    
    let algumMaterialUtilizado = false;
    Object.keys(campos).forEach((campo) => {
      const valorCampo = document.getElementById(campo).value;
      if (valorCampo.trim() !== "") {
        copiado += `${campos[campo]}: ${valorCampo}\n`;
        algumMaterialUtilizado = true;
      }
    });
    
    if (!algumMaterialUtilizado) {
      copiado += "N√£o foi utilizado materiais!\n";
    }
    
    copiado += `## üõú - Configura√ß√µes:\n`;
    copiado += `Wifi 2.4GHz:\n`;
    copiado += ` ${document.getElementById('opcoes24GHz').value} |`;
    copiado += ` ${document.getElementById('canais24GHz').value}\n`;
    copiado += `# Wifi 5GHz:\n`;
    copiado += ` ${document.getElementById('opcoes5GHz').value} |`;
    copiado += ` ${document.getElementById('canais5GHz').value}\n`;
    
    const localizacao = document.getElementById('mapLink').textContent;
    if (localizacao.trim() !== "") {
      copiado += `#üö© - Localiza√ß√£o aproximada:# ${localizacao}\n`;
    }
    
    const comentarios = document.getElementById('comentarios1').value;
    if (comentarios.trim() !== "") {
      copiado += "##Coment√°rios:\n";
      copiado += `${comentarios}\n`;
    }
    
    copiado = copiado.replace(/#/g, '\n');
    
    // üîπ Enviar a mensagem para cada usu√°rio registrado
    chatIds.forEach(chatId => {
      const url = `https://api.telegram.org/bot${botToken}/sendMessage`;
      const params = {
        chat_id: chatId,
        text: copiado
      };
      
      fetch(url, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(params)
        })
        .then(response => response.json())
        .then(data => {
          if (data.ok) {
            console.log(`Mensagem enviada para ${chatId}:`, data);
          } else {
            console.error(`Erro ao enviar mensagem para ${chatId}:`, data);
          }
        })
        .catch(error => console.error(`Erro na requisi√ß√£o para ${chatId}:`, error));
    });
  }
</script>

<script>
 document.addEventListener("DOMContentLoaded", function() {
 const toggleInstalacoes = document.getElementById("toggleInstalacoes");
 const toggleEstoque = document.getElementById("toggleEstoque");
 const toggleManutencao = document.getElementById("toggleManutencao");

 const anchorInstalacoes = document.querySelector("a[onclick*='mostrarInstalacoes']");
 const anchorEstoque = document.querySelector("a[onclick*='mostrarEstoque']");
 const anchorManutencao = document.querySelector("a[onclick*='mostrarManutencao']");

 // Carregar as prefer√™ncias salvas ou definir como true se n√£o estiver definido
 toggleInstalacoes.checked = localStorage.getItem("toggleInstalacoes") !== "false";
 toggleEstoque.checked = localStorage.getItem("toggleEstoque") !== "false";
 toggleManutencao.checked = localStorage.getItem("toggleManutencao") !== "false";

 // Mostrar/ocultar as ancoras com base nos estados salvos
 anchorInstalacoes.style.display = toggleInstalacoes.checked ? "inline" : "none";
 anchorEstoque.style.display = toggleEstoque.checked ? "inline" : "none";
 anchorManutencao.style.display = toggleManutencao.checked ? "inline" : "none";

 // Salvar as prefer√™ncias quando os checkboxes forem alterados
 toggleInstalacoes.addEventListener("change", function() {
  localStorage.setItem("toggleInstalacoes", toggleInstalacoes.checked);
  anchorInstalacoes.style.display = toggleInstalacoes.checked ? "inline" : "none";
 });

 toggleEstoque.addEventListener("change", function() {
  localStorage.setItem("toggleEstoque", toggleEstoque.checked);
  anchorEstoque.style.display = toggleEstoque.checked ? "inline" : "none";
 });

 toggleManutencao.addEventListener("change", function() {
  localStorage.setItem("toggleManutencao", toggleManutencao.checked);
  anchorManutencao.style.display = toggleManutencao.checked ? "inline" : "none";
 });
});

document.addEventListener("DOMContentLoaded", function() {
 const toggleMap = document.getElementById("toggleMap");
 const mapReal = document.getElementById("mapReal");

 // Carregar a prefer√™ncia salva ou definir como true se n√£o estiver definido
 toggleMap.checked = localStorage.getItem("toggleMap") !== "false";

 // Mostrar/ocultar a div mapReal com base no estado salvo
 mapReal.style.display = toggleMap.checked ? "block" : "none";

 // Salvar a prefer√™ncia quando o checkbox for alterado
 toggleMap.addEventListener("change", function() {
  localStorage.setItem("toggleMap", toggleMap.checked);
  mapReal.style.display = toggleMap.checked ? "block" : "none";
 });
});

document.addEventListener("DOMContentLoaded", function() {
 const toggleCopy = document.getElementById("toggleCopy");
 const toggleCopys = document.getElementById("toggleCopys");

 // Carregar as prefer√™ncias salvas ou definir como true se n√£o estiver definido
 toggleCopy.checked = localStorage.getItem("toggleCopy") !== "false";
 toggleCopys.checked = localStorage.getItem("toggleCopys") !== "false";

 // Salvar as prefer√™ncias quando os checkboxes forem alterados
 toggleCopy.addEventListener("change", function() {
  localStorage.setItem("toggleCopy", toggleCopy.checked);
 });

 toggleCopys.addEventListener("change", function() {
  localStorage.setItem("toggleCopys", toggleCopys.checked);
 });
});

document.addEventListener("DOMContentLoaded", function() {
 const tecnicoSelect = document.getElementById("tecnico");

 // Carregar a sele√ß√£o do t√©cnico salva
 const savedTecnico = localStorage.getItem("selectedTecnico");
 if (savedTecnico) {
  tecnicoSelect.value = savedTecnico;
 }

 // Salvar a sele√ß√£o do t√©cnico quando alterado
 tecnicoSelect.addEventListener("change", function() {
  localStorage.setItem("selectedTecnico", tecnicoSelect.value);
 });
});

document.addEventListener("DOMContentLoaded", function() {
 const toggleMute = document.getElementById("toggleMute");
 const audios = [
        document.getElementById("notification"),
        document.getElementById("xselect"),
        document.getElementById("recycler")
    ];

 // Carregar a prefer√™ncia de som salva ou definir como false se n√£o estiver definido
 toggleMute.checked = localStorage.getItem("toggleMute") === "true";
 audios.forEach(audio => audio.muted = toggleMute.checked);

 // Salvar a prefer√™ncia de som e mutar/desmutar os √°udios
 toggleMute.addEventListener("change", function() {
  localStorage.setItem("toggleMute", toggleMute.checked);
  audios.forEach(audio => audio.muted = toggleMute.checked);
 });
});
</script>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const toggleClima = document.getElementById("toggleClima");
    const climatempo = document.getElementById("climatempo");

    // Carregar a prefer√™ncia salva ou definir como false se n√£o estiver definida
    toggleClima.checked = localStorage.getItem("toggleClima") !== "false";

    // Mostrar/ocultar a div climatempo com base no estado salvo
    climatempo.style.display = toggleClima.checked ? "none" : "table-row";

    // Salvar a prefer√™ncia quando o checkbox for alterado
    toggleClima.addEventListener("change", function() {
      localStorage.setItem("toggleClima", toggleClima.checked);
      climatempo.style.display = toggleClima.checked ? "none" : "table-row";
    });
  });
</script>
<script>document.addEventListener("DOMContentLoaded", function() {
    // Array que ir√° armazenar os objetos
    let dadosInstalacao = [];

    function enviarbd() {
        // Coleta os dados dos inputs
        const tipoTrabalho = document.getElementById('Trabalho').value;
        const tecnico = document.getElementById('tecnico').value;
        const cliente = document.getElementById('cliente').value;
        const cto = document.getElementById('cto').value;
        const porta = document.getElementById('porta').value;
        const sinalCto = document.getElementById('sinalCto').value;
        const sinalCliente = document.getElementById('sinalCliente').value;

        // Materiais
        const fibraMetragem = document.getElementById('fibraMetragem').value;
        const scApc = document.getElementById('scApc').value;
        const scUpc = document.getElementById('scUpc').value;
        const esticadores = document.getElementById('esticadores').value;
        const roldana = document.getElementById('roldana').value;
        const fecho = document.getElementById('fecho').value;
        const anel = document.getElementById('anel').value;
        const fitaAco = document.getElementById('fitaAco').value;
        const fixaFio = document.getElementById('fixaFio').value;
        const pitao = document.getElementById('pitao').value;
        const caboRede = document.getElementById('caboRede').value;
        const concRj45 = document.getElementById('concRj45').value;
        const kitFusao = document.getElementById('kitFusao').value;

        // Configura√ß√µes de Wifi
        const wifi24GHz = document.getElementById('opcoes24GHz').value;
        const canal24GHz = document.getElementById('canais24GHz').value;
        const wifi5GHz = document.getElementById('opcoes5GHz').value;
        const canal5GHz = document.getElementById('canais5GHz').value;

        // Localiza√ß√£o (se dispon√≠vel)
        const localizacao = document.getElementById('mapLink').textContent;

        // Criar o objeto com os dados preenchidos
        const novoRegistro = {
            dataHora: new Date().toLocaleString(),
            tipoTrabalho,
            tecnico,
            cliente,
            cto,
            porta,
            sinalCto,
            sinalCliente,
            materiais: {
                fibraMetragem,
                scApc,
                scUpc,
                esticadores,
                roldana,
                fecho,
                anel,
                fitaAco,
                fixaFio,
                pitao,
                caboRede,
                concRj45,
                kitFusao
            },
            wifi: {
                wifi24GHz,
                canal24GHz,
                wifi5GHz,
                canal5GHz
            },
            nomeRua,
            localizacao
        };

        // Adiciona o objeto ao array
        dadosInstalacao.push(novoRegistro);

        // Salva no local storage (opcional)
        localStorage.setItem('dadosInstalacao', JSON.stringify(dadosInstalacao));

        // Enviar os dados para o servidor via POST
        fetch('https://66d39f5c184dce1713d09736.mockapi.io/Api/v1/BD', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(novoRegistro)
        })
        .then(response => response.json())
        .then(data => {
            console.log("Dados enviados com sucesso:", data);
        })
        .catch(error => {
            console.error("Erro ao enviar os dados:", error);
        });
    }

document.getElementById('enviar').addEventListener('click', function() {
        enviarbd();
        sendMessageToTelegram();
        
    });

});
</script>


<script>
function limparLocalStorageSeLotado() {
    try {
        // Tenta salvar um item tempor√°rio
        localStorage.setItem('temp', 'temp');
        
        // Se funcionar, o localStorage n√£o est√° lotado, ent√£o removemos o item tempor√°rio
        localStorage.removeItem('temp');
    } catch (e) {
        // Caso ocorra um erro, significa que o localStorage est√° cheio, ent√£o limpamos os itens antigos
        alert("LocalStorage cheio, limpando os itens mais antigos...");

        // Obtemos todas as chaves armazenadas
        let keys = Object.keys(localStorage);
        
        // Limpa os itens mais antigos (removendo o primeiro item)
        while (localStorage.length > 0) {
            let oldestKey = keys[0];
            localStorage.removeItem(oldestKey);
            keys.shift(); // Remove a primeira chave da lista
        }
    }
}

</script>

<script>
// troca a cor do th quando o input √© selecionado
const formInputs = document.querySelectorAll('table input, table select');

formInputs.forEach(input => {
  input.addEventListener('focus', () => {
    const th = input.closest('tr').querySelector('th');
    th.style.color = 'white';
  });

  input.addEventListener('blur', () => {
    const th = input.closest('tr').querySelector('th');
    th.style.color = '';
  });
});
</script>


  
</body>
</html>