<!DOCTYPE html>
<html lang="pt-br">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 

  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  <!-- Ícone da página -->
  <link rel="icon" href="https://img.icons8.com/?size=2x&id=Sd1fJXRt5uTd&format=png" type="image/png">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">


  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <!-- Importação da fonte Poppins -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;400;500;600;700&display=swap" rel="stylesheet">
  


  
  
  <title>Painel de Controle</title>
  <body onload="verificarTercaFeira()">
</head>

<style>


:root { 
   --principal: #626870; 
   --secundaria: #425671;
   --tabela: #9197a0;
   --texto: #0E0E11;
 }


  /* Estilos gerais */
body {
  font-family: 'Poppins', sans-serif;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  text-align: center;
  background: var(--principal);
  transition: 1s all;
}



/* Estilos para inputs */
input {
  text-align: center;
  width: 70%;
}

/* Estilos para botões */
.BTN {
  width: fit-content;
  padding: 10px;
  justify-content: space-evenly;
  font-size: 10px;
  font-weight: bold;
  text-align: center;
  color: var(--texto);
  background-color: #E1E2F075;
  text-align: center;
  width: 70%;
  max-width: 350px;
  box-shadow: 0 8px 9px rgba(0, 0, 0, 8);
  transition: box-shadow 0.3s ease;

}

#btn-historico {
  position: fixed;
  right: 15px;
  bottom: 80px;
  margin-bottom: 10px;
  background: var(--principal);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.9);
  transition: box-shadow 0.3s ease;
  border: 3px black solid;
  border-radius: 50%;
  width: 55px;
  height: 55px;
  display: none;
  align-items: center;
  justify-content: center;
  color: black;
  font-size: 20px;
  animation: slidein 1s ease-in;

}



#enviar {
  margin-bottom: 20px;
  backdrop-filter: blur(1px);
  background: #42445A78;
}

button {
  font-weight: bold;
  text-align: center;
  color: #fff;
  background-color: transparent;
  text-align: center;
  border-radius: 5px;
  font-size: 80%;
  padding: 10px;
  color: var(--texto);
  border: none;
}

.botoes {
  margin: 0 auto;
  align-items: center;
  background: grey;
  display: flex;
  gap: 10px;
  width: fit-content;
  height: fit-content;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
  transition: box-shadow 0.3s ease;
  
}

tbody button {
  margin: 5px;
  justify-content: space-evenly;
  gap: 10px;
  background: var(--principal);
  width: 40px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
  transition: box-shadow 0.3s ease;
}


.versiculo{
  display: none;
  width: 80%;
  font-size: 1rem;
  text-align: center;
  background-color: var(--tabela);
  margin: 0 auto;
  border: 1px solid black;
  border-radius: 4px 0px 4px;
  padding: 5px;
  font-size: small;
  color: var(--texto);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
  transition: box-shadow 0.3s ease;
  animation: blink 7.5s infinite;
}

/* Estilos para tabelas */
th,
td {
  font-size: 1rem;
  text-align: center;
  background-color: var(--tabela);
  margin: 0 auto;
  border: 1px solid black;
  border-radius: 4px 0px 4px;
  padding: 5px;
  font-size: small ;
  color: var(--texto);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
  transition: box-shadow 0.3s ease;
}

td button {
  width: 30px;
  height: 30px;
  border-radius: 5px;
  text-align: center;
  justify-content: center;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
  transition: box-shadow 0.3s ease;#2C37BB
}

.menu{
  display: flex;
  margin:0 auto;
}

p{
 color: var(--texto);
 font-weight: 600;
}

/* Estilos para botão de exclusão */
#excluir {
  width: fit-content;
  padding: 8px;
}

/* Estilos para abas */
.tabs {
  display: flex;
  justify-content: center;
  margin-bottom: 10px;
}

table#retirada,
table#estoque {
  background: none;
  margin: 0 auto;
}

.acoes {
  display: flex;
}

/* Estilos para conteúdo */
#habilitar {
  width: fit-content;
  margin: 0 auto;
}

#habilitar input {
  width: fit-content;
}

select {
  padding: 2px;
  margin-bottom: 4px;
  width: 100%;
  text-align: center;
}

/* Estilos para navegação */
nav {
  backdrop-filter: blur(2px); 
  background-color: rgba(36, 44, 44, 0.63);
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  position: relative;
  z-index: 10;
  border-bottom: #1067DA solid 3px;
  border-top: #1067DA solid 3px;
  animation: borderAnimation 1s ease;
}

@keyframes borderAnimation {
  0% {
    transform: translateY(10%);
    filter: blur(5px);
    margin-top: 100px;
    scale: 3;
    box-shadow: -200px 0 20px 5px rgba(0, 0, 255, 0),
                200px 0 20px 5px rgba(0, 0, 255, 0);
  }
  10% {
    box-shadow: -160px 0 20px 5px rgba(0, 0, 255, 0.4),
                160px 0 20px 5px rgba(0, 0, 255, 0.4);
  }
  20% {
    box-shadow: -120px 0 20px 5px rgba(0, 0, 255, 0.6),
                120px 0 20px 5px rgba(0, 0, 255, 0.6);
  }
  30% {
    box-shadow: -80px 0 20px 5px rgba(0, 0, 255, 0.8),
                80px 0 20px 5px rgba(0, 0, 255, 0.8);
  }
  40% {
    box-shadow: -40px 0 20px 5px rgba(0, 0, 255, 1),
                40px 0 20px 5px rgba(0, 0, 255, 1);
  }
  50% {
    box-shadow: 0 0 20px 5px rgba(0, 0, 255, 1),
                0 0 20px 5px rgba(0, 0, 255, 1);
  }
  60% {
    box-shadow: 40px 0 20px 5px rgba(0, 0, 255, 1),
                -40px 0 20px 5px rgba(0, 0, 255, 1);
  }
  70% {
    box-shadow: 80px 0 20px 5px rgba(0, 0, 255, 0.8),
                -80px 0 20px 5px rgba(0, 0, 255, 0.8);
  }
  80% {
    box-shadow: 120px 0 20px 5px rgba(0, 0, 255, 0.6),
                -120px 0 20px 5px rgba(0, 0, 255, 0.6);
  }
  90% {
    box-shadow: 160px 0 20px 5px rgba(0, 0, 255, 0.4),
                -160px 0 20px 5px rgba(0, 0, 255, 0.4);
  }
  100% {
    transform: translateY(0%);
    box-shadow: 200px 0 20px 5px rgba(0, 0, 255, 0),
                -200px 0 20px 5px rgba(0, 0, 255, 0);
  }
}
  
a{
  animation: slidein .4s ease-in-out;
}  
  
.sublinhado-ativo {
 box-shadow: 5px 10px 20px 5px rgba(48, 56, 56, 0.5);
 height: fit-content;
 width: fit-content;
 animation: scaleAnimation 1.2s infinite;
}


.sublinhado-ativo1 {
 box-shadow: 0 2px 8px rgba(1, 0, 0, 1);
 height: fit-content;
 width: fit-content;
 animation: scaleAnimation 2s infinite;
}

.sublinhado-ativo2 {
z-index: 10;
position: fixed;
bottom: 20px;
right: 15px;
padding: 10px;
background: gray;
box-shadow: 0 2px 8px rgba(01, 0, 0, 01);
 height: 70px;
 width: 70px;
 border-radius: 50%;
 scale: 0.9;
 animation: scaleAnimation1 3s infinite;
}



@keyframes scaleAnimation {
  0% {
  
    border: transparent solid 1px;
    border-radius: 4px;
    transform: scale(1.3);
    box-shadow: 10 20px 20px 10 rgba(09, 10, 0, 01);

  }
  50% {
    border: #1067DA solid 1px;
    border-radius: 10px 10px 10px 10px;
    transform: scale(1.2);
    box-shadow: 2px 10px 10px 2px #2D2F31

  }
  100% {
    
    border: transparent solid 1px;
    border-radius: 4px;
    transform: scale(1.3);
    box-shadow: 5 20px 20px 5 rgba(09, 10, 0, 01);

  }
}


@keyframes scaleAnimation1 {
  0% {
    
    border-radius: 35px;
    transform: scale(1.3);
    box-shadow: 10 4 10 5 rgba(09, 10, 0, 01);

  }
  50% {
    
    border-radius: 33px;
    transform: scale(1.2);
    box-shadow: 0px 5px 10px 0px #0B2E5D

  }
  100% {
    
    border-radius: 35px;
    transform: scale(1.3);
    box-shadow: 10 5 10 6 rgba(09, 10, 0, 01);

  }
}



#btn-mobile {
  display: none;
}

body.delta-active {
  overflow-y: hidden;
}


/* Estilos para dispositivos móveis */
@media (max-width: 600px) {
  .logo {
    height: 30px;
    width: 30px;
    padding: 10px;
    align-items: center;
    animation: slidein 1s ease-out;
    
  }
  
  

  li a {
    font-size: 16px;
    text-align: center;
    color: var(--texto) #B2B2B2;
    text-align: center;
    transition: 0.6s;
    font-weight: 600;
  }
  
  li a:hover{
   color: var(--principal) ;
   font-weight: 900;
   font-size: 17px;
  }

  #menu {
    display: block;
    position: absolute;
    width: 100%;
    top: 4.2rem;
    right: 0px;
    background: var(--secundaria) ;
    transition: 0.6s;
    z-index: 1000;
    height: 0px;
    visibility: hidden;
    overflow-y: hidden;
  }

  #nav.active #menu {
    height: calc(100vh - 4rem);
    visibility: visible;
    overflow-y: auto;
  }
  

  #menu a {
    padding: 1rem 0;
    margin: 0 1rem;
    border-bottom: 2px solid rgba(0, 0, 0, 0.05);
  }

  #btn-mobile {
    display: none;
    padding: 1rem;
    font-size: 1rem;
    border: none;
    background: none;
    cursor: pointer;
    gap: 0.5rem;
    align-items: center;
    justify-content: center;
  }

  #hamburger {
    border-top: 2px solid;
    width: 20px;
  }

  #hamburger::after,
  #hamburger::before {
    content: "";
    display: block;
    width: 20px;
    height: 2px;
    background: currentColor;
    margin-top: 5px;
    transition: 0.3s;
    position: relative;
  }

  #nav.active #hamburger {
    border-top-color: transparent;
  }

  #nav.active #hamburger::before {
    transform: rotate(135deg);
    color: var(--texto);
  }

  #nav.active #hamburger::after {
    transform: rotate(-135deg);
    top: -7px;
    color: var(--principal );
  }
}

ul {
  font-size: 0.5rem;
  display: flex;
  flex-direction: column-reverse;
}

.instalacoes {
  background: #42445A;
  border-radius: 5px;
  width: 90%;
  margin: 0 auto;
  padding: 10px;
}

.instalacoes li {
  text-align: left;
  list-style: none;
}


.btnEstoque {
  width: 90%;
  justify-items: center;
  justify-content: center;
  margin: 0 auto;
  gap: 15px;
  display: flex;
  
}

span {
  font-size: 1rem;
  font-weight: 400;
}

.item-lista p{
 color: var(--principal);
 font-size:  .6rem;
 margin: 10;
}

input.checkbox-item {
  margin: 0px;
  position: absolute;
  top: 6px;
  width: 25px;
}

li.item-lista {
  margin: 1px;
  width: 100%;
  display: flex;
  border: 1px solid grey;
}

 p.abaRegistros.classe-Cliente{
  background: #42445A ;
  width: 90%;
  display: block;
  text-align: center;
  justify-content: center ;
  margin: 6px;
}

p.classe-Data {
  color:white ;
  width: 100%;
  text-align: center;
  display: block;
  align-items: center;
  justify-content: center ;
  background: #606279;
  border-radius: 2px;
}

h4.abaDados {
  height: 140px;
  position: relative;
  width: 100%;
  margin: 6px;
  display: inline-block ;
  background: #606279;
  border-radius: 1px 5px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
  transition: box-shadow 0.3s ease;
}

div1{
  background: #606279;
  border-radius: 1px 5px;
  margin:6px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
  transition: box-shadow 0.3s ease;
}

h4{
  color:white ;
  font-size: 8px;
  margin:10px;
}
  

p.abaRegistros  {
  color: white;
  display: flex;
  width: 50%;
  align-items: left;
  background:#2C37BB;
  margin:0px;
  font-size: .6rem;
  border: 5px solid #606279;
}

 h4.classe-link-mapa{
 width: 30px;
 position: relative;
 bottom: 50px;
 left: 120px;
 
}




select#registros {
 width: 80%;
 caret-color: grey;
 outline: #55576B;
 border: 1px solid black;
}

#estoqueDiv{
 margin-top: 2px;
}

#lista-dados-copiados {
  text-align: center;
  justify-content: center;
  padding: 0;
}

#comentarios1{
  width: 95%;
  font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
}

#comentarios:focus{
 animation: blink 2s linear infinite;
 caret-color: grey;
 outline: #55576B;
 border: 1px solid #000000;

}

@keyframes blink {
  0% {
    color: #000000;
  }
  50% {
    color: #8B8B8B;
  }
  100% {
    color: #000000;
  }
}
  
  #cliente1:focus{
  animation: blink 2s linear infinite;
 caret-color: grey;
 outline:transparent;
 border: 1px solid #000000;
  }
  
  
 @keyframes slidein {
      0% {
        transform: translateY(10%);
        filter: blur(30px);
      }
      100% {
        transform: translateY(0%);
      }
    }
    
    #estoqueDiv, #habilitar, #retiradaDiv, #manutencaoDiv, .instalacoes {
      animation: .5s all;
      animation-name: slidein;
      margin-top: 120px;
      margin-bottom: 40px;
    }
   
   #habilitar table{
     margin: 0 auto;
   } 
    
    
    #retiradaDiv{
      display: none;
      margin-top: 10px;
      margin-bottom: 100px;
    }
    
    #nav{
      width: 100%;
      right: 0;
      top: 0;
      position: fixed;
    }
    
    .menu, a {
      font-size: .4em;
      justify-content: center ;
      align-items: center;
      display: flex;
      flex-direction: ;
      margin: 10px;
    }
    

    #quantidade-por-mes{
      
      background: #606279;
  border-radius: 1px 5px;
  margin:6px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
  transition: box-shadow 0.3s ease;
      
      padding: 20px;
      text-transform: capitalize;
      column-count: 2;
    }
    
    #quantidade-por-mes p {
    color: white;
    margin: 0;
    padding: 2px;
    text-align: right ;
    }
    
    div#instalacoes p{
  color: white;
    }
    

#mapLink{
  display: none;
}


.temp span{
  font-size: 16px;
  width: 60%;
  margin: 0 auto;
  padding: 0;
  animation: blink 2s infinite;
}



.BtnMap{
  display: none;
  margin: 0 auto;
  width: 90%;
  background:#67697D;
  color: white;
}


#weather{
  height:fit-content;
}

#weather p{
  font-size: 8px;
}

iframe{
  position: relative;
  z-index: 5;
}

.blink{
  animation: blink 2s infinite;
}

.temp p{
  font-size: 8px;
  margin: 0 auto;
  width: fit-content;
  font-weight: small;
}

.local a{
  margin-bottom: 20px;
}

.local img{
  height: 25px;
  width: 25px;
}


.abaDados a {
  display: block;
  margin: 0px;
  padding: 0px;
  text-align: left;
  color: #34BECD;
}


.search-button {
  z-index: 10;
  position: fixed;
  bottom: 20px;
  right: 15px;
  width: 30px;
  height: 30px; 
  padding: 10px;
  border: black solid 3px;
  background-color: var(--principal);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  line-height: 50px;
  color: black;
  font-size: 24px;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.9);
  animation: slidein 1s ease-in;

}




.search-container {
  z-index: 10;
  display: block;
  position: fixed;
  bottom: 35px;
  left: 20px;
  width: 200px;
  height: 40px;
  display: none;
}

.search-container input[type=text] {
  width: 100%;
  height: 100%;
  padding: 6px;
  font-size: 17px;
  border: none;
  background:#C7D5E4;
  outline: none;
}

.btnPesquisar{
  z-index: 10;
  border-radius: 0 10px 10px 0;
  position: fixed;
  bottom: 20px;
  padding: 20px;
  background-color:#0056B3;
  animation: slidein .5s all;
}
.btnPesquisar:hover{
  background-color: #007bff;

}

#inputFind{
  animation: .5s all;
  animation-name: slidein;
  height: 42px;
  width: 90%;
  border-radius:  10px 0 0 10px;
}

 .alert {
  backdrop-filter: blur(5px);
  background-color: rgba(10, 0, 0, 0.8);
  position: fixed;
  top: 85px;
  width: fit-content;
  padding: 6px;
  font-size: 10px;
  border-radius: 10px;
  z-index: 9999;
  display: none;
  animation: 1.2s ease-in;
  transition: box-shadow 0.3s ease;
  animation-name: slidein;
}

.alert p {
  color: white;
}

.alert button {
  color: white;
  border: 1px solid #FFFFFF;
  width: 90px;
  margin: 10px;
}
  
  .editor{
    font-size: 12px;
    text-decoration: none;
    color: black;
    transition: box-shadow 0.3s ease;
    animation: blink 7.5s infinite;
  }
  

#alerta1 {
  z-index: 10;
  width: 50%;
  position: fixed;
  top: 110px;
  left: 50%;
  transform: translateX(-50%);
  background-color: #36A2F4CC;
  color: white;
  padding: 10px 10px;
  border-radius: 5px;
  display: none;
}

ul { list-style-type: none; margin: 0; padding: 0; }
    li { padding: 8px; margin-bottom: 10px; background: #f2f2f2; }



</style>

<body>
  


  <!-- Barra de navegação -->
  <nav id="nav">
    
    
   
 <div class="menu">


<a class="sublinhado-ativo" onclick="ativarSublinhado(this);mostrarRetirada()" ;><img onclick="mostrarRetirada()" class="logo" src="https://img.icons8.com/?size=2x&id=Sd1fJXRt5uTd&format=png" height="90" width="90"></a>

<a onclick="ativarSublinhado(this);mostrarInstalacoes"><img onclick="mostrarInstalacoes()" class="logo" src="https://img.icons8.com/?size=2x&id=Kwa2wLSodvjf&format=png" height="90" width="90"></a>

<a onclick="ativarSublinhado(this);mostrarEstoque"><img onclick="mostrarEstoque()" class="logo" src="https://img.icons8.com/?size=512&id=ATNcH32az6si&format=png" height="90" width="90"></a>


<a onclick="ativarSublinhado(this);mostrarManutencao"><img onclick="mostrarManutencao()" class="logo" src="https://img.icons8.com/?size=512&id=uxYPS07KAuId&format=png
    " height="90" width="90"></a>
    
    <div class="alert" id="alerta">

  <p>Deseja registrar o pedido de material ?</p>
  
  <button onclick="prosseguir()">Sim</button>
  
  <button onclick="fecharAlerta()">Depois</button>
  
</div>

    
    
   </div>


   
  </nav>
  

   

   



<div id="manutencaoDiv" style="display: none;">
  
  <h4 style="font-size: 20px">MAPA DE CTO</h4>
 
 
 <div class="menu">
   <div style="display: block;">
     <h4>Editar</h4>
 <a class="sublinhado-ativo1" href="#" id="editLink">
   <img class="logo" src="https://img.icons8.com/?size=512&id=QjsrTsVL665z&format=png" height="20" width="20">
 </a>
     </div>
     
     
   <div style="display: block;">
     <h4>Google Earth</h4>

<a class="sublinhado-ativo1" href="https://earth.app.goo.gl/?apn=com.google.earth&isi=293622097&ius=googleearth&link=https%3a%2f%2fearth.google.com%2fweb%2f%40-23.05937339,-47.31164855,637.82978119a,3835.30342676d,30.00033061y,0h,0t,0r%2fdata%3dMigKJgokCiAxbF9jaDZxdXB1WHowRG53Nmg5VmhvbTFZMWczaWJhWSAC" target="_blank">
  
<img class="logo" src="https://img.icons8.com/?size=512&id=0JR9TPl4aWU1&format=png" height="20" width="20">
</a>
   </div>

<div style="display: block;">
    <h4>Google Maps</h4>

<a class="sublinhado-ativo1" href="https://goo.gl/maps/88VJ2ZpSiy4F2Qas7?g_st=aw"target="_blank">

  <img class="logo" src="https://img.icons8.com/?size=512&id=Q82WjgdMEzoU&format=png" height="20" width="20"></a>
</div>
 </div>

<iframe src="https://www.google.com/maps/d/u/0/embed?mid=1l_ch6qupuXz0Dnw6h9Vhom1Y1g3ibaY&ehbc=2E312F&noprof=1" width="350" height="400"></iframe>

<div style="display: none;">
  

 <p> Total de Manutenções: <span id="totalRegistros"></span></p>
 <!-- Conteúdo da seção de manutenção -->
 

 <td><input type="text" placeholder="Nome do Cliente" id="cliente1"></td>

 <br><br>


 <textarea id="comentarios" placeholder="Digite aqui suas conclusões" rows="8" cols="35"></textarea>

<br><br>

 <select id="registros" onchange="selecionarRegistro()">
  <option value="" disabled selected>Selecione um registro</option>
 </select>


 <br><br>

 <div class="btnEstoque">
  <button class="BTN" onclick="enviarComentario()" type="submit">ENVIAR</button>

  <button class="BTN" onclick="excluirRegistro()" type="button">EXCLUIR</button>
 </div>




</div>
</div>




  

  <!-- Div para a seção de estoque -->
  <div id="estoqueDiv" style="display: none;">
    <table id="estoque">
      <h1 >ESTOQUE</h1>
      <tr>
        <th>Quantidade</th>
        <th>Ações</th>
      </tr>
    </table>
    <br>
    <div class="btnEstoque">
      <button id="adicionar" class="BTN" onclick="adicionar()">Adicionar<br>Produto</button>
      <button style="display: none" id="clear-storage-btn" class="BTN">Resetar<br>Estoque</button>
      <button onclick="enviarMensagemWhatsApp()" class="BTN">Pedir<br>Material</button>
    </div>
  </div>
  <br>

  <!-- Div para a seção de lançamento -->
  <div class="habilitar" style="display: block" id="habilitar">
   
  
    <div id="ultimomes"></div><br>
    
    
      <ul id="messages"></ul>
  <form id="form">
    <input id="input" autocomplete="off" /><button>Send</button>
  </form>
    
    
    <script>
      
  navigator.geolocation.getCurrentPosition(position => {
  const latitude = position.coords.latitude;
  const longitude = position.coords.longitude;

  // Use a API de Geolocalização para obter a cidade com base na latitude e longitude
  const url = `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&lang=pt_br&units=metric&APPID=247b887404d2c17d430365e56d58d514`;

  fetch(url)
    .then(response => response.json())
    .then(data => {
      const cidade = data.name;
      const temperatura = data.main.temp;
      const descricao = data.weather[0].description;
      const icon = `https://openweathermap.org/img/w/${data.weather[0].icon}.png`;
      const umidade = data.main.humidity;
      const sensacao = data.main.feels_like;
      const vento = data.wind.speed;

      const nuvens = data.clouds.all;



      const weatherDiv = document.getElementById('weather');

      weatherDiv.innerHTML = `
        <div class="temp">
          <p>${cidade}</p>
          <p>${descricao}</p>

          <p>Temperatura: ${temperatura}°C</p>
          <p>Sensação: ${sensacao}°C</p>
    
        </div>
      `;
    })
    .catch(error => {
      console.error('Erro ao obter dados do clima:', error);
    });
});

    </script>
    
    <table>
 

    <tr>
    <td>
      <div class="local">
        <div id="weather" class="temp">
          <span>Obtendo Geolocalização...</span>
        </div>
    </td>
    <th>
      <div class="temp">
       <span id="address">Obtendo endereço...</span> 
      </div>
      
      </th>
  </tr>  
    
  

          <div id="mapLink">
          </div>
          <div>
            <button class="BtnMap" onclick="getLocation">Atualizar Localização</button>
          </div>

      </div>
    
    


<tr>
  <th>Tipo de trabalho:</th>
  <td>
       <select name="Trabalho" id="Trabalho">Trabalho
  <option value="**🛠  𝕀𝕟𝕤𝕥𝕒𝕝𝕒çã𝕠:**">Instalação</option>
  <option value="**🏘 𝕄𝕦𝕕𝕒𝕟ç𝕒 𝕕𝕖 𝕖𝕟𝕕𝕖𝕣𝕖ç𝕠:**">Mudança de endereço</option>
</select>
  </td>
</tr>


      <tr>
        <th>Técnico:</th>
        <td>
          <select id="tecnico">
    <option disabled selected value="">Selecione o técnico</option>
    <option value="Andre">André</option>
    <option value="Elvis">Elvis</option>
    <option value="Guilherme">Guilherme</option>
    <option value="Janderson">Janderson</option>
    <option value="Robson">Robson</option>
    <option value="Sergio">Sérgio</option>
</select>

        </td>
      </tr>
      <tr>
        <th>Cliente:</th>
        <td><input type="text" placeholder="Nome do Cliente" id="cliente"></td>
      </tr>
      <tr>
        <th>CTO:</th>
        <td><input placeholder="00 - Bairro" type="num" id="cto"></td>
      </tr>
      <tr>
        <th>Porta:</th>
        <td>
          <select id="porta">
            <option disabled selected value="">Selecione a porta</option>
            <option value="01">Porta 01</option>
            <option value="02">Porta 02</option>
            <option value="03">Porta 03</option>
            <option value="04">Porta 04</option>
            <option value="05">Porta 05</option>
            <option value="06">Porta 06</option>
            <option value="07">Porta 07</option>
            <option value="08">Porta 08</option>
            <option value="09">Porta 09</option>
            <option value="10">Porta 10</option>
            <option value="11">Porta 11</option>
            <option value="12">Porta 12</option>
            <option value="13">Porta 13</option>
            <option value="14">Porta 14</option>
            <option value="15">Porta 15</option>
            <option value="16">Porta 16</option>
          </select>
        </td>
      </tr>
      <tr>
        <th>Sinal da CTO:</th>
        <td><input type="text"  placeholder="-00.00" id="sinalCto"></td>
      </tr>
      <tr>
        <th>Sinal do Cliente:</th>
        <td><input type="text" placeholder="-00.00" id="sinalCliente"></td>
      </tr>
        <tr>
        <th>Fibra metragem:</th>
        <td><input type="number" placeholder="00" onchange="atualizarQuantidadeRetirada(0, this.value)" id="fibraMetragem"></td>
      </tr>
      <tr>
        <th>Conector-APC:</th>
        <td><input type="number" placeholder="00" id="scApc" onchange="atualizarQuantidadeRetirada(1, this.value)"></td>
      </tr>
      <tr>
        <th>Conector-UPC:</th>
        <td><input type="number" placeholder="00" id="scUpc" onchange="atualizarQuantidadeRetirada(2, this.value)"></td>
      </tr>
      <tr>
        <th>Esticadores:</th>
        <td><input type="number" placeholder="00" id="esticadores" onchange="atualizarQuantidadeRetirada(3, this.value)"></td>
      </tr>
      <tr>
        <th>Roldana:</th>
        <td><input type="number" placeholder="00" id="roldana" onchange="atualizarQuantidadeRetirada(4, this.value)"></td>
      </tr>
      <tr>
        <th>Fecho:</th>
        <td><input type="number" placeholder="00" id="fecho" onchange="atualizarQuantidadeRetirada(5, this.value)"></td>
      </tr>
      <tr>
        <th>Anel:</th>
        <td><input type="number" placeholder="00" id="anel" onchange="atualizarQuantidadeRetirada(6, this.value)"></td>
      </tr>
      <tr>
        <th>Fita de aço:</th>
        <td><input type="number" placeholder="00" id="fitaAco" onchange="atualizarQuantidadeRetirada(7, this.value)"></td>
      </tr>
      <tr>
        <th>Fixa fio:</th>
        <td><input type="number" placeholder="00" id="fixaFio" onchange="atualizarQuantidadeRetirada(8, this.value)"></td>
      </tr>
      <tr>
        <th>Isolante:</th>
        <td><input type="number" placeholder="00" id="isolante" onchange="atualizarQuantidadeRetirada(9, this.value)"></td>
      </tr>
      <tr>
        <th>Cabo de rede:</th>
        <td><input type="number" placeholder="00" id="caboRede" onchange="atualizarQuantidadeRetirada(10, this.value)"></td>
      </tr>
      <tr>
        <th>Conctor RJ45:</th>
        <td><input type="number" placeholder="00" id="concRj45" onchange="atualizarQuantidadeRetirada(11, this.value)"></td>
      </tr>
      <tr>
        <th>Kit fusão:</th>
        <td><input type="number" placeholder="00" id="kitFusao" onchange="atualizarQuantidadeRetirada(12, this.value)"></td>
      </tr>
      
      <tr>
  <th>Wifi 2.4GHz:</th>
  <td>
    <select name="opcoes24GHz" id="opcoes24GHz">
      <option value="Banda Auto" disabled selected>Banda Auto</option>
      <option value="Desabilitado">Desabilitado</option>
      <option value="Manter">Manter</option>
      <option value="20Mhz">20Mhz</option>
      <option value="40Mhz">40Mhz</option>
    </select>

    <select id="canais24GHz">
      <option disabled selected value="CH Auto">CH Auto</option>
      <option value="Desabilitado">Desabilitado</option>
      <option value="Manter">Manter</option>
      <option value="CH01">CH01</option>
      <option value="CH06">CH06</option>
      <option value="CH11">CH11</option>
      <!-- Adicione mais canais, se necessário -->
    </select>
  </td>
</tr>

<tr>
  <th>Wifi 5GHz:</th>
  <td>
    <select name="opcoes5GHz" id="opcoes5GHz">
      <option value="Banda Auto" disabled selected>Banda Auto</option>
      <option value="Desabilitado">Desabilitado</option>
      <option value="Manter">Manter</option>
      <option value="40Mhz">40Mhz</option>
      <option value="80Mhz">80Mhz</option>
      <option value="160Mhz">160Mhz</option>
    </select>

    <select id="canais5GHz">
      <option disabled selected value="CH Auto">CH Auto</option>
            <option value="Desabilitado">Desabilitado</option>
      <option value="Manter">Manter</option>
      <option value="CH36">CH36</option>
      <option value="CH44">CH44</option>
      <option value="CH52">CH52</option>
      <option value="CH149">CH149</option>      
      <option value="CH157">CH157</option>      
      <option value="CH165">CH165</option>



      <!-- Adicione mais canais, se necessário -->
    </select>
  </td>
</tr>



      
      
    </table>
    

   
    <br>
     <textarea id="comentarios1" placeholder="Comentários..." rows="10" cols="35"></textarea>
 
 <input type="text" id="clipboardInput" style="position: absolute; left: -9999px;">
 
     
     
<button id="enviar" class="sublinhado-ativo2" onclick="enviar()"><img onclick="mostrarEstoque()" class="logo" src="https://img.icons8.com/?size=512&id=yEmPT1iidhE0&format=png" height="50" width="50"></button>
     
  </div>
  
  

  

  <div id="retiradaDiv">
    <table id="retirada">
      <p>Equipamento utilizado</p>
      <tr>
        <th>Produto</th>
        <th>Quantidade</th>
        <th>Ações</th>
      </tr>
    </table>
    <br>
  
      <input type="text" id="clipboardInput" style="position: absolute; left: -9999px;">
  
  <div id="map"></div>

  
  
   <div class="versiculo" id="dailyVersesWrapper"></div>
      <script async defer src="https://dailyverses.net/get/random.js?language=arc"></script></th>
      

  
  </div>
  
  
   
  



  <div id="instalacoes" class="instalacoes" style="display: none">
   
   <div  id="alerta1" class="alerta "></div>

   
    <div class="search-button" onclick="toggleSearch()">
  <i class="fas fa-search"></i>
</div>

    
    <div class="search-container" id="search-container">
<input type="text" placeholder="Pesquisar..." id="inputFind">
<button class="btnPesquisar" onclick="aplicarEstilo()">
  <i class="fas fa-arrow-right"></i>
</button>

    </div>


   
     <p>Total de Instalações: <span id="total-elementos"></span></p>
     
      <p id="quantidade-por-mes"></p>
 
     
    <ul id="lista-dados-copiados"></ul>
    
<button id="btn-historico" class="BTN" onclick="excluirItensSelecionados()">
  <i class="fas fa-trash"></i>
</button>

  </div>




  <script>
  
  
  
  
  
function showPosition(position) {
  const latitude = position.coords.latitude;
  const longitude = position.coords.longitude;

  var mapLink = 'https://www.google.com/maps/search/?api=1&query=' + latitude + ',' + longitude;
  document.getElementById('mapLink').innerHTML = mapLink;
}

function getLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showPosition);
  } else {
    alert("Geolocalização não é suportada por este navegador.");
  }
}

getLocation();
  
  
  document.getElementById('editLink').addEventListener('click', function(event) {
  event.preventDefault();
  var senha = prompt("Digite a senha para editar:");
  if (senha === 'editar') {
    window.open("https://www.google.com/maps/d/u/0/edit?hl=pt-BR&mid=1l_ch6qupuXz0Dnw6h9Vhom1Y1g3ibaY&ll=-23.104603351905947%2C-47.26240628194967&z=13", "_blank");
  } else {
    alert("Senha incorreta.");
  }
});
  
  
  
function ativarSublinhado(elemento) {
  var elementosA = document.querySelectorAll("#nav a");
  elementosA.forEach(function(a) {
    a.classList.remove("sublinhado-ativo");
  });
  elemento.classList.add("sublinhado-ativo");
}

  
 // Obtém uma referência ao elemento do nav
const nav = document.querySelector('#nav');

// Adiciona um event listener para verificar quando a classe .active é adicionada ou removida do nav
nav.addEventListener('transitionend', function() {
  // Verifica se a classe .active está presente no nav
  const isActive = nav.classList.contains('active');

  // Obtém uma referência ao elemento do body
  const body = document.querySelector('body');

  // Adiciona ou remove a classe .delta-active com base na presença da classe .active no nav
  if (isActive) {
    body.classList.add('delta-active');
  } else {
    body.classList.remove('delta-active');
  }
});
 
  
  
    
     // Seleciona o botão de limpar armazenamento do DOM
const clearStorageBtn = document.querySelector("#clear-storage-btn");

// Adiciona um ouvinte de evento de clique ao botão
clearStorageBtn.addEventListener("click", () => {
  // Exibe uma mensagem de confirmação ao usuário
  const confirmReset = confirm("Você tem certeza que deseja resetar o estoque?");

  // Verifica se o usuário confirmou o reset
  if (confirmReset) {
    // Limpa o armazenamento local
    localStorage.clear();
    
    // Exibe uma mensagem de sucesso ao usuário
    alert("Estoque resetado com sucesso!");
     // Recarrega a página
    location.reload();
  }
});




function mostrarEstoque() {
      const estoqueDiv = document.getElementById("estoqueDiv");
      const retiradaDiv = document.getElementById("retiradaDiv");
      const habilitar = document.getElementById("habilitar");
      const instalacoes = document.getElementById("instalacoes");

      if (estoqueDiv && retiradaDiv && habilitar && instalacoes) {
        estoqueDiv.style.display = "block";
        retiradaDiv.style.display = "none";
        habilitar.style.display = "none";
        instalacoes.style.display = "none";
        manutencaoDiv.style.display = "none";
      }
    }

    function mostrarRetirada() {
      const estoqueDiv = document.getElementById("estoqueDiv");
      const retiradaDiv = document.getElementById("retiradaDiv");
      const habilitar = document.getElementById("habilitar");
      const instalacoes = document.getElementById("instalacoes");
      
      if (estoqueDiv && retiradaDiv && habilitar && instalacoes) {
        estoqueDiv.style.display = "none";
        retiradaDiv.style.display = "block";
        habilitar.style.display = "block";
        instalacoes.style.display = "none";
        manutencaoDiv.style.display = "none";
      }
    }

    function mostrarInstalacoes() {
      const estoqueDiv = document.getElementById("estoqueDiv");
      const retiradaDiv = document.getElementById("retiradaDiv");
      const habilitar = document.getElementById("habilitar");
      const instalacoes = document.getElementById("instalacoes");

      if (estoqueDiv && retiradaDiv && habilitar && instalacoes) {
        estoqueDiv.style.display = "none";
        retiradaDiv.style.display = "none";
        habilitar.style.display = "none";
        instalacoes.style.display = "block";
        manutencaoDiv.style.display = "none";
      }
    }

    function mostrarManutencao() {
      
      const estoqueDiv = document.getElementById("estoqueDiv");
      const retiradaDiv = document.getElementById("retiradaDiv");
      const habilitar = document.getElementById("habilitar");
      const instalacoes = document.getElementById("instalacoes");
      const manutencaoDiv = document.getElementById("manutencaoDiv");

      if (estoqueDiv && retiradaDiv && habilitar && instalacoes && manutencaoDiv) {
        estoqueDiv.style.display = "none";
        retiradaDiv.style.display = "none";
        habilitar.style.display = "none";
        instalacoes.style.display = "none";
        manutencaoDiv.style.display = "block";
      }
    }













function atualizarListaRegistros() {
  // Obter a referência do elemento select
  const select = document.getElementById('registros');

  // Limpar as opções existentes
  select.innerHTML = '<option value="" disabled selected>Selecione um registro</option>';

  // Obter os registros do Local Storage
  const registros = JSON.parse(localStorage.getItem('registros')) || [];

  // Adicionar cada registro como uma opção no select
  registros.forEach((registro, index) => {
    const option = document.createElement('option');
    option.value = index;
    option.textContent = registro.dataHora + ' - ' + registro.cliente;
    select.appendChild(option);
  });

  // Atualizar o número total de registros
  contarRegistros();
}

function contarRegistros() {
  // Obter os registros do Local Storage
  const registros = JSON.parse(localStorage.getItem('registros')) || [];

  // Obter a referência do elemento para exibir o número de registros
  const contador = document.getElementById('contador-registros');

  // Exibir o número de registros
  contador.textContent = registros.length;
}

function enviarComentario() {
  // Obter os valores do nome do cliente e comentários
  const cliente = document.getElementById('cliente1').value;
  const comentarios = document.getElementById('comentarios').value;

  // Verificar se os campos não estão vazios
  if (cliente !== '' && comentarios !== '') {
    // Criar um objeto com as informações do registro
    const registro = {
      cliente: cliente,
      comentarios: comentarios,
      dataHora: new Date().toLocaleString()
    };

    // Obter os registros existentes do Local Storage
    let registros = JSON.parse(localStorage.getItem('registros')) || [];

    // Adicionar o novo registro à lista de registros
    registros.push(registro);

    // Armazenar a lista ⁷atualizada no Local Storage
    localStorage.setItem('registros', JSON.stringify(registros));

    // Limpar os campos do formulário
    document.getElementById('cliente1').value = '';
    document.getElementById('comentarios').value = '';

    // Atualizar a lista de registros selecionáveis
    atualizarListaRegistros();
  }
}

function selecionarRegistro() {
  // Obter o índice do registro selecionado
  const index = document.getElementById('registros').value;

  // Obter os registros do Local Storage
  const registros = JSON.parse(localStorage.getItem('registros')) || [];

  // Verificar se o índice é válido
  if (index >= 0 && index < registros.length) {
    // Obter o registro selecionado
    const registro = registros[index];

    // Preencher os campos do formulário com as informações do registro
    document.getElementById('cliente1').value = registro.cliente;
    document.getElementById('comentarios').value = registro.comentarios;
  }
}

function excluirRegistro() {
  // Obter o índice do registro selecionado
  const index = document.getElementById('registros').value;

  // Obter os registros do Local Storage
  let registros = JSON.parse(localStorage.getItem('registros')) || [];

  // Verificar se o índice é válido
  if (index >= 0 && index < registros.length) {
    // Emitir o alerta de confirmação
    const confirmacao = confirm("Você tem certeza que deseja excluir o registro?");
    
    if (confirmacao) {
      // Remover o registro da lista
      registros.splice(index, 1);

      // Armazenar a lista atualizada no Local Storage
      localStorage.setItem('registros', JSON.stringify(registros));

      // Limpar os campos do formulário
      document.getElementById('cliente1').value = '';
      document.getElementById('comentarios').value = '';

      // Atualizar a lista de registros selecionáveis
      atualizarListaRegistros();
      // Atualizar o número total de registros
      contarRegistros();
    }
  }
}


  // Atualizar a lista de registros selecionáveis ao carregar a página
  atualizarListaRegistros();

function contarRegistros() {
    // Obter os registros do Local Storage
    const registros = JSON.parse(localStorage.getItem('registros')) || [];

    // Exibir o total de registros
    const totalRegistros = registros.length;
    document.getElementById('totalRegistros').textContent = totalRegistros.toString();
  }

  // Atualizar a lista de registros selecionáveis e o total de registros ao carregar a página
  atualizarListaRegistros();
  contarRegistros();













// Variáveis para armazenar os produtos e retiradas, utilizando o armazenamento local (localStorage)
let produtos = JSON.parse(localStorage.getItem("produtos")) || [
  { nome: "DROP", quantidade: 1000 },
  { nome: "SC-APC", quantidade: 20 },
  { nome: "SC-UPC", quantidade: 20 },
  { nome: "Esticadores", quantidade: 100 },
  { nome: "Roldana", quantidade: 100 },
  { nome: "Fecho", quantidade: 50 },
  { nome: "Anel", quantidade: 50 },
  { nome: "Fita aço", quantidade: 50 },
  { nome: "Fixa fio", quantidade: 100 },
  { nome: "Isolante", quantidade: 100 },

  { nome: "Cabo de rede", quantidade: 300 },
  { nome: "Conc RJ45", quantidade: 20 },
  { nome: "Kit-Fusao", quantidade: 10 },
];



let retirada = JSON.parse(localStorage.getItem("retirada")) || [];


// Função para atualizar a tabela de estoque com os produtos e suas quantidades
function atualizarTabelaEstoque() {
  // Obtém a referência para a tabela de estoque
  let tabela = document.getElementById("estoque");
  
  // Limpa o conteúdo atual da tabela
  tabela.innerHTML = "<tr><th>Produto</th><th>Quantidade</th><th>Ações</th></tr>";
  
  // Popula a tabela com os produtos
  for (let i = 0; i < produtos.length; i++) {
    let linha = tabela.insertRow(-1); // Insere uma nova linha na tabela
    let celulaNome = linha.insertCell(0); // Insere uma nova célula na coluna 0 (Produto)
    let celulaQuantidade = linha.insertCell(1); // Insere uma nova célula na coluna 1 (Quantidade)
    let celulaAcoes = linha.insertCell(2); // Insere uma nova célula na coluna 2 (Ações)
    
    // Preenche as células com os valores correspondentes
    celulaNome.innerHTML = produtos[i].nome;
    celulaQuantidade.innerHTML = `<input type="number" min="0" value="${produtos[i].quantidade}" onchange="atualizarQuantidadeEstoque(${i}, this.value)">`;
    celulaAcoes.innerHTML = `<div class='acoes'><button onclick="aumentarEstoque(${i})">+</button> <button onclick="diminuirEstoque(${i})">-</button> <button id="excluir" onclick="excluir(${i})">Excluir</button></div>`;
  }
}






  // Função para atualizar a tabela de retirada com os  e suas quantidades
    function atualizarTabelaRetirada() {
      let tabela = document.getElementById("retirada");
      tabela.innerHTML = "<tr><th>Produto</th><th>Quantidade</th><th>Ações</th></tr>";
      for (let i = 0; i < retirada.length; i++) {
        if (retirada[i].adicionado) { // Verifica se o produto foi adicionado
          let linha = tabela.insertRow(-1);
          let celulaNome = linha.insertCell(0);
          let celulaQuantidade = linha.insertCell(1);
          let celulaAcoes = linha.insertCell(2);
          celulaNome.innerHTML = retirada[i].nome;
          celulaQuantidade.innerHTML = `<input type="number" min="0" value="${retirada[i].quantidade}" onchange="atualizarQuantidadeRetirada(${i}, this.value)">`;
          celulaAcoes.innerHTML = `<div class="acoes"><button onclick="aumentarRetirada(${i})">+</button> <button onclick="diminuirRetirada(${i})">-</button><div>`;
        }
      }
    }


    // Função para aumentar a quantidade de um produto no estoque
    function aumentarEstoque(indice) {
      produtos[indice].quantidade++;
      atualizarTabelaEstoque();
      salvarDados();
    }

    // Função para diminuir a quantidade de um produto no estoque
    function diminuirEstoque(indice) {
      if (produtos[indice].quantidade > 0) {
        produtos[indice].quantidade--;
        atualizarTabelaEstoque();
        salvarDados();
      }
    }

    // Função para aumentar a quantidade de um produto na retirada
    function aumentarRetirada(indice) {
      retirada[indice].quantidade++;
      atualizarTabelaRetirada();
      salvarDados();
    }


    // Função para diminuir a quantidade de um produto na retirada
    function diminuirRetirada(indice) {
      if (retirada[indice].quantidade > 0) {
        retirada[indice].quantidade--;
        atualizarTabelaRetirada();
        salvarDados();
      }
    }



    // Função para adicionar um novo produto ao estoque e à retirada
    function adicionar() {
      let nome = prompt("Nome do produto:"); // Solicita o nome do produto ao usuário
      if (nome) {
        produtos.push({ nome, quantidade: 0, adicionado: true }); // Adiciona o produto à lista de produtos com quantidade inicial 0 e a propriedade "adicionado" definida como true
        retirada.push({ nome, quantidade: 0, adicionado: true }); // Adiciona o produto à lista de retirada com quantidade inicial 0 e a propriedade "adicionado" definida como true
        atualizarTabelaEstoque(); // Atualiza a tabela de estoque
        atualizarTabelaRetirada(); // Atualiza a tabela de retirada
        salvarDados(); // Salva os dados
      }
    }

    // Função para excluir um produto do estoque e da retirada
    function excluir(indice) {
      let produto = produtos[indice]; // Obtém o produto correspondente ao índice fornecido
      if (produto && produto.adicionado) { // Verifica se o produto existe e se a propriedade "adicionado" é true
        let nome = produto.nome; // Obtém o nome do produto
        produtos.splice(indice, 1); // Remove o produto da lista de produtos
        for (let i = 0; i < retirada.length; i++) {
          if (retirada[i].nome === nome) {
            retirada.splice(i, 1); // Remove o produto correspondente da lista de retirada
            break;
          }
        }
        atualizarTabelaEstoque(); // Atualiza a tabela de estoque
        atualizarTabelaRetirada(); // Atualiza a tabela de retirada
        salvarDados(); // Salva os dados
      }
    }



    // Função para processar a retirada de produtos
    function enviar() {
     getLocation()
      for (let i = 0; i < retirada.length; i++) {
        let produtoRetirado = retirada[i];
        for (let j = 0; j < produtos.length; j++) {
          if (produtos[j].nome === produtoRetirado.nome) {
            produtos[j].quantidade -= produtoRetirado.quantidade;
            break;
          }
        }
        produtoRetirado.quantidade = 0;
      }


      atualizarTabelaEstoque();
      atualizarTabelaRetirada();
      salvarDados();

      // Chamar a função para copiar o conteúdo após o envio
      setTimeout(copiarConteudo, 200)
    }

    // Array para armazenar os dados copiados
    let dadosCopiados = [];

    // Função para copiar o conteúdo atualizado para a área de transferência
    function copiarConteudo() {
      let copiado = '';




//estrututa da 1• tabela (copiar)
// Obter o elemento com o id "quantidade-por-mes"
const quantidadePorMesElement = document.getElementById('quantidade-por-mes');

// Verificar se o elemento existe e contém elementos <p>
if (quantidadePorMesElement) {
  const paragraphs = quantidadePorMesElement.getElementsByTagName('p');

// Verificar se há algum elemento <p>
if (paragraphs.length > 0) {
  const lastParagraph = paragraphs[paragraphs.length - 1].textContent;

  if (lastParagraph.trim() !== "") {
    // Extrair o número do mês do parágrafo
    const monthMatch = lastParagraph.match(/\d+/);

    if (monthMatch) {
      // Converter para número inteiro e incrementar em 1
      let month = parseInt(monthMatch[0], 10);

      // Verificar se o valor do mês é 0
      if (month === 0) {
        copiado += "Você não trabalhou ainda esse mês!\n";
      } else {
        // Incrementar o mês em 1
        month += 1;

        // Certificar-se de que o mês não exceda 12
        if (month > 12) {
          month = 1; // ou ajustar conforme necessário
        }

        copiado += `Instalações no mês de ${month}\n`;
      }
    } else {
      // Caso não encontre um número no parágrafo, pode lidar com isso como preferir
      console.error('Nenhum número de mês encontrado no parágrafo.');
    }
  }
}
}



    copiado += `## ${document.getElementById('Trabalho').value}\n`;
     copiado += `Técnico: ${document.getElementById('tecnico').value}\n`;
      copiado += `Cliente: ${document.getElementById('cliente').value}\n`;
      
      

      copiado += `CTO: ${document.getElementById('cto').value}\n`;
      copiado += `Porta: ${document.getElementById('porta').value}\n`;
      copiado += `Sinal da CTO: ${document.getElementById('sinalCto').value}\n`;
      copiado += `Sinal do Cliente: ${document.getElementById('sinalCliente').value}\n`;
      
      
  copiado += `##**📦 𝕄𝕒𝕥𝕖𝕣𝕚𝕒𝕚𝕤:**\n`;


// Exemplo de cópia de valores de campos de entrada
const campos = {
  'fibraMetragem': 'Metragem da Fibra',
  'scApc': 'Conector APC',
  'scUpc': 'Conector UPC',
  'esticadores': 'Esticadores',
  'roldana': 'Roldana',
  'fecho': 'Fecho',
  'anel': 'Anel',
  'fitaAco': 'Fita de Aço',
  'fixaFio': 'Fixa fio',
  'isolante': 'Isolante',
  'caboRede': 'Cabo de rede',
  'concRj45': 'Conctor RJ45',
  'kitFusao': 'Kit fusão'
};

// Exemplo de cópia de valores de campos de entrada
let algumMaterialUtilizado = false;

Object.keys(campos).forEach((campo) => {
  const valorCampo = document.getElementById(campo).value;
  if (valorCampo.trim() !== "") {
    copiado += `${campos[campo]}: ${valorCampo}\n`;
    algumMaterialUtilizado = true;
  }
});

if (!algumMaterialUtilizado) {
  copiado += "Não foi utilizado materiais !\n";
}



      
          // Copiando os valores da primeira tabela (Wifi 2.4GHz)
copiado += `##**🛜  ℂ𝕠𝕟𝕗𝕚𝕘𝕦𝕣𝕒çõ𝕖𝕤:**\n`;
    
copiado += `**Wifi 2.4GHz:**\n`;
copiado += ` ${document.getElementById('opcoes24GHz').value} |`;
copiado += ` ${document.getElementById('canais24GHz').value}\n`;

// Copiando os valores da segunda tabela (Wifi 5GHz)
copiado += `#**Wifi 5GHz:**\n`;
copiado += ` ${document.getElementById('opcoes5GHz').value} |`;
copiado += ` ${document.getElementById('canais5GHz').value}##\n`;




// Verificando se há localização e copiando, se houver
const localizacao = document.getElementById('mapLink').textContent;
if (localizacao.trim() !== "") {
  copiado += "**🚩 Localização:**\n";
  copiado += `${localizacao}##\n`;
}


// Verificando se há comentários e copiando, se houver
const comentarios = document.getElementById('comentarios1').value;
if (comentarios.trim() !== "") {
  copiado += "**Comentários:**\n";
  copiado += `__${comentarios}__\n`;
}







//Construir a string com a estrutura desejada, substituindo as quebras de linha pelo caractere "#"
//esse é o que copia *favor habilitar
for (let i = 0; i < produtos.length; i++) "###**Meu Estoque**#"

//{copiado += `${produtos[i].nome}:${produtos[i].quantidade}#`;}

// Substituir o "#" por quebras de linha (\n)
copiado = copiado.replace(/#/g, '\n');



      // Crie um elemento de input temporário
      const tempInput = document.createElement('textarea');
      tempInput.style.position = 'absolute';
      tempInput.style.left = '-9999px';
      tempInput.value = copiado;

      // Anexe o elemento de input ao corpo do documento
      document.body.appendChild(tempInput);

      // Selecione o texto no elemento de input
      tempInput.select();
      
      

      // Copie o texto para a área de transferência
      document.execCommand('copy')

      // Remova o elemento de input temporário
      document.body.removeChild(tempInput);
        (copiado)

      document.getElementById("tecnico").selectedIndex = 0;
      document.getElementById("cliente").value = " do Cliente";
      document.getElementById("fibraMetragem").value = "00";
      document.getElementById("cto").value = "00";
      document.getElementById("porta").selectedIndex = 0;
      document.getElementById("sinalCto").value = "-00.00";
      document.getElementById("sinalCliente").value = "-00.00";
      document.getElementById("scApc").value = "00";
      document.getElementById("scUpc").value = "00";
      document.getElementById("esticadores").value = "00";
      document.getElementById("roldana").value = "00";
      document.getElementById("fecho").value = "00";
      document.getElementById("anel").value = "00";
      document.getElementById("fitaAco").value = "00";
      document.getElementById("fixaFio").value = "00";
      document.getElementById("isolante").value = "00";
      document.getElementById("caboRede").value = "00";
      document.getElementById("concRj45").value = "00";
      document.getElementById("kitFusao").value = "00";


      // Abra o WhatsApp e cole o conteúdo copiado
var mensagem = '** ⚙ 𝕀𝕟𝕕𝕒𝕚𝕒𝔽𝕚𝕓𝕣𝕒**\n' + copiado + '\n\n**Obrigado !**';
var urlTelegram = 'https://t.me/share/url?url=' + encodeURIComponent(mensagem);
window.location.href = urlTelegram;



      // Adicionar a string copiada ao array de dadosCopiados
      dadosCopiados.push({
        data: new Date().toLocaleString(), // Data e hora atual
        conteudo: copiado
      });


      // Salvar os dados copiados no armazenamento local
      salvarDadosCopiados();

      // Exibir a lista de dados copiados na tela
      exibirDadosCopiados();
    }

 // Função para exibir a lista de dados copiados na tela
function exibirDadosCopiados() {
  
const countByMonth = {};

for (let i = 0; i < dadosCopiados.length; i++) {
  const item = dadosCopiados[i];
  const parts = item.data.match(/^(\d{2})\/(\d{2})\/(\d{4}), (\d{2}):(\d{2}):(\d{2})$/);

  if (parts) {
    const dia = parseInt(parts[1], 10);
    const mes = parseInt(parts[2], 10) - 1; // Mês é zero-based no JavaScript (janeiro = 0)
    const ano = parseInt(parts[3], 10);
    const hora = parseInt(parts[4], 10);
    const minuto = parseInt(parts[5], 10);
    const segundo = parseInt(parts[6], 10);

    const data = new Date(ano, mes, dia, hora, minuto, segundo);

    const monthIndex = data.getMonth();
    const monthName = getMonthName(monthIndex);

    if (countByMonth[monthName]) {
      countByMonth[monthName]++;
    } else {
      countByMonth[monthName] = 1;
    }
  } else {
    console.error('Formato de data inválido:', item.data);
    continue; // Pule para a próxima iteração do loop
  }
}


// Restante do seu código para exibir a quantidade por mês


function getMonthName(monthIndex) {
  const months = [
    'janeiro', 'fevereiro', 'março', 'abril', 'maio', 'junho',
    'julho', 'agosto', 'setembro', 'outubro', 'novembro', 'dezembro'
  ];
  return months[monthIndex];
}

// Criar elementos <p> para cada mês e exibir a quantidade total
const countByMonthElement = document.getElementById('quantidade-por-mes');
countByMonthElement.innerHTML = '';

let lastMonthValue = null; // Variável para armazenar o valor do último mês

for (const month in countByMonth) {
  const pElement = document.createElement('p');
  pElement.textContent = `${month}: ${countByMonth[month]}`;
  countByMonthElement.appendChild(pElement);

  // Atualiza o valor do último mês a cada iteração
  lastMonthValue = countByMonth[month];
}

// Seleciona a div com id 'ultimomes'
const divUltimoMes = document.getElementById('ultimomes');

// Atualiza o conteúdo da div com o valor do último mês
if (lastMonthValue !== 0 && lastMonthValue !== null) {
  if (lastMonthValue > 35) {
    divUltimoMes.innerHTML = `Parabéns, pode descansar, já foi <strong>${lastMonthValue}</strong> instalações nesse mês!`;
  } else if (lastMonthValue > 20) {
    divUltimoMes.innerHTML = `Parabéns, já foram <strong>${lastMonthValue}</strong> instalações nesse mês!`;
  } else {
    divUltimoMes.textContent = `Você fez, ${lastMonthValue} instalações nesse mês!`;
  }
}
  
  
  
  // Limpar o conteúdo atual da lista
  const listaElement = document.getElementById('lista-dados-copiados');
  listaElement.innerHTML = '';

  // Percorrer o array de dadosCopiados e criar um elemento de lista para cada item
  for (let i = 0; i < dadosCopiados.length; i++) {
    const item = dadosCopiados[i];

    // Criar um elemento de lista e adicionar a classe 'item-lista'
    const listItemElement = document.createElement('li');
    listItemElement.classList.add('item-lista');

// Criar um elemento de caixa de seleção e adicionar a classe 'checkbox-item'
const checkboxElement = document.createElement('input');
checkboxElement.type = 'checkbox';
checkboxElement.classList.add('checkbox-item');
checkboxElement.value = i; // Definir o valor da caixa de seleção como o índice do item
listItemElement.appendChild(checkboxElement);



// Selecione todos os checkboxes
var checkboxes = document.querySelectorAll('input[type="checkbox"]');
var button = document.getElementById("btn-historico");

function updateButtonVisibility() {
  var anyChecked = Array.from(checkboxes).some(checkbox => checkbox.checked);

  if (anyChecked) {
    button.style.display = "inline-block"; // Mostrar o botão
  } else {
    button.style.display = "block"; // Esconder o botão
  }
}



// Adicionar ouvintes de eventos para todos os checkboxes
checkboxes.forEach(function(checkbox) {
  checkbox.addEventListener('click', updateButtonVisibility);
});

// Inicializar a visibilidade do botão ao carregar a página
updateButtonVisibility();


    
    

    // Criar um elemento de texto com as informações do item
    const dataHora = new Date(item.data).toLocaleString('pt-br');
    
    const nomeCliente = extrairNomeCliente(item.conteudo);
    const textElement = document.createElement('p');
       textElement.classList.add('abaRegistros')
       
       
// Criar um novo elemento de texto
const dataElement = document.createElement('p');

// Definir o conteúdo como o valor de item.data
dataElement.textContent = `${item.data}`;

// Adicionar uma classe ao elemento
dataElement.classList.add('classe-Data');

// Adicionar o elemento ao elemento pai desejado (por exemplo, uma lista)
listItemElement.appendChild(dataElement);
    
    textElement.textContent = ` ${nomeCliente}`;
    textElement.classList.add('classe-Cliente');
    
    listItemElement.appendChild(textElement);
    
    // Criar um novo elemento pai
const containerElement = document.createElement('div1');

// Adicionar os elementos Cliente e Data ao elemento pai
containerElement.appendChild(dataElement);
containerElement.appendChild(textElement);

// Adicionar o elemento pai ao elemento desejado (por exemplo, uma lista)
listItemElement.appendChild(containerElement);



const ctoPortaElement = document.createElement('h4');
ctoPortaElement.classList.add('abaDados');

const cto = extrairCTO(item.conteudo);
const porta = extrairPorta(item.conteudo);
const sinal = extrairSinalCTO(item.conteudo);





// Crie elementos span para cada item e adicione classes a eles

const ctoElement = document.createElement('h4');
ctoElement.textContent = `CTO: ${cto}`;


const portaElement = document.createElement('h4');
portaElement.textContent = `Porta: ${porta}`;


portaElement.classList.add('classe-porta'); // Adicione a classe para Porta

const sinalElement = document.createElement('h4');
sinalElement.textContent = `${sinal}`;
sinalElement.classList.add('classe-sinal'); // Adicione a classe para Sinal

// Adicione os elementos span ao elemento h4
ctoPortaElement.appendChild(dataElement);
ctoPortaElement.appendChild(textElement);
ctoPortaElement.appendChild(ctoElement);
ctoPortaElement.appendChild(portaElement);
ctoPortaElement.appendChild(sinalElement);
ctoPortaElement.appendChild(checkboxElement);


listItemElement.appendChild(ctoPortaElement);



// Função para extrair a informação do link do mapa do conteúdo copiado
function extrairLinkMapa(conteudo) {
  const indiceInicioLinkMapa = conteudo.indexOf('Localização:') + 15; // Adicionado 12 para compensar o comprimento da palavra "Localização:"
  const indiceFimLinkMapa = conteudo.indexOf('\n', indiceInicioLinkMapa);
  const linkMapa = conteudo.substring(indiceInicioLinkMapa, indiceFimLinkMapa);
  return linkMapa;
}

// Crie o elemento h4 para o link do mapa e adicione uma classe a ele
const linkMapaElement = document.createElement('h4');
linkMapaElement.textContent = `Localização: ${extrairLinkMapa(item.conteudo)}`;
linkMapaElement.classList.add('classe-link-mapa'); // Adicione a classe para o link do mapa

// Crie um elemento <a> e defina o atributo href com o link do mapa
const linkElement = document.createElement('a');
linkElement.href = extrairLinkMapa(item.conteudo);
linkElement.target = '_blank'; // Abra o link em uma nova página

// Crie um elemento <img> para o ícone do marcador de posição
const iconElement = document.createElement('img');
iconElement.src = 'https://img.icons8.com/stickers/100/signpost.png'; // Link do ícone fornecido
iconElement.style.width = '40px'; // Defina a largura do ícone
iconElement.style.height = '40px'; // Defina a altura do ícone

// Adicione o ícone ao elemento <a>
linkElement.appendChild(iconElement);

// Substitua o elemento h4 pelo elemento <a> para tornar o link clicável
linkMapaElement.textContent = '';
linkMapaElement.appendChild(linkElement);
ctoPortaElement.appendChild(linkMapaElement);




// Função para extrair a informação da CTO do conteúdo copiado
function extrairCTO(conteudo) {
  const indiceInicioCTO = conteudo.indexOf('CTO:') + 5;
  const indiceFimCTO = conteudo.indexOf('\n', indiceInicioCTO);
  const cto = conteudo.substring(indiceInicioCTO, indiceFimCTO);
  return cto;
}

// Função para extrair a informação do Sinal da CTO do conteúdo copiado
function extrairSinalCTO(conteudo) {
  const indiceInicioSinalCTO = conteudo.indexOf('Sinal') + 0;
  const indiceFimSinalCTO = conteudo.indexOf('\n', indiceInicioSinalCTO);
  const sinalCTO = conteudo.substring(indiceInicioSinalCTO, indiceFimSinalCTO);
  return sinalCTO;
}


// Função para extrair a informação da Porta do conteúdo copiado
function extrairPorta(conteudo) {
  const indiceInicioPorta = conteudo.indexOf('Porta: ') + 7;
  const indiceFimPorta = conteudo.indexOf('\n', indiceInicioPorta);
  const porta = conteudo.substring(indiceInicioPorta, indiceFimPorta);
  return porta;
}



// Adicionar o item à lista
listaElement.appendChild(listItemElement);
}

// Atualizar o número total de elementos
const totalElement = document.getElementById('total-elementos');
totalElement.textContent = dadosCopiados.length;
}



    // Função para extrair o nome do cliente do conteúdo copiado
    function extrairNomeCliente(conteudo) {
      // Encontrar o índice inicial do nome do cliente
      const indiceInicio = conteudo.indexOf('Cliente: ') + 9;
      // Encontrar o índice final do nome do cliente
      const indiceFim = conteudo.indexOf('\n', indiceInicio);
      // Extrair o nome do cliente usando os índices
      const nomeCliente = conteudo.substring(indiceInicio, indiceFim);
      return nomeCliente;
    }

    // Função para excluir os itens selecionados
    function excluirItensSelecionados() {
      const checkboxes = document.querySelectorAll('.checkbox-item');
      const indicesSelecionados = [];

      checkboxes.forEach((checkbox, index) => {
        if (checkbox.checked) {
          indicesSelecionados.push(parseInt(checkbox.value));
        }
      });

      if (indicesSelecionados.length === 0) {
        alert('Nenhum item selecionado para exclusão.');
        return;
      }

      // Exibir a confirmação de exclusão
      const confirmacao = confirm('Tem certeza que deseja excluir os itens selecionados?');

      if (confirmacao) {
        // Ordenar os índices em ordem decrescente
        indicesSelecionados.sort((a, b) => b - a);
        

        // Excluir os itens selecionados do array de dadosCopiados
        indicesSelecionados.forEach((indice) => {
          dadosCopiados.splice(indice, 1);
        });

        salvarDadosCopiados(); // Salvar os dados atualizados no armazenamento local
        exibirDadosCopiados(); // Atualizar a exibição dos dados copiados na tela

        alert('Itens selecionados foram excluídos com sucesso.');
      }
    }

    // Função para salvar os dados copiados no armazenamento local
    function salvarDadosCopiados() {
      localStorage.setItem('dadosCopiados', JSON.stringify(dadosCopiados));
    }

    // Função para carregar os dados copiados do armazenamento local
    function carregarDadosCopiados() {
      const dadosSalvos = localStorage.getItem('dadosCopiados');
      if (dadosSalvos) {
        dadosCopiados = JSON.parse(dadosSalvos);
        exibirDadosCopiados();
      }
    }
    // Função para limpar os dados copiados
    function limparDadosCopiados() {
      dadosCopiados = [];
      salvarDadosCopiados();
      exibirDadosCopiados();
    }

    // Chamar a função carregarDadosCopiados() quando a página for carregada
    window.addEventListener('load', carregarDadosCopiados);

    // Chamar a função carregarDadosCopiados() ao abrir a página
    carregarDadosCopiados();








    function atualizarQuantidadeEstoque(indice, quantidade) {
      produtos[indice].quantidade = parseInt(quantidade);
      salvarDados();
    }

    function atualizarQuantidadeRetirada(indice, quantidade) {
      retirada[indice].quantidade = parseInt(quantidade);
      salvarDados();
    }

    function salvarDados() {
      localStorage.setItem("produtos", JSON.stringify(produtos));
      localStorage.setItem("retirada", JSON.stringify(retirada));
    }

    // Inicializa a tabela de retirada com os mesmos produtos da tabela de estoque
    if (retirada.length === 0) {
      for (let i = 0; i < produtos.length; i++) {
        retirada.push({ nome: produtos[i].nome, quantidade: 0 });
      }
    }

    atualizarTabelaEstoque();
    atualizarTabelaRetirada();

    document.getElementById("habilitar").addEventListener("submit", function(event) {
      event.preventDefault(); // Impede o envio padrão do formulário
      // Realiza a ação de envio aqui (por exemplo, enviar dados para o servidor)

    });

    // Obtém todos os elementos de entrada
    var inputs = document.getElementsByTagName('input');

    // Itera sobre todos os elementos de entrada e adiciona o manipulador de eventos
    for (var i = 0; i < inputs.length; i++) {
      inputs[i].addEventListener('focus', clearInput);
    }

    // Função para limpar o valor do input
    function clearInput(event) {
      event.target.value = '';
    }

function formatInput(e) {
            let value = e.target.value;

            // Remove todos os caracteres que não são dígitos ou vírgula
            value = value.replace(/[^0-9,]/g, '');

            // Garante que sempre tenha um sinal negativo no início
            value = '-' + value;

            // Adiciona a vírgula se não estiver presente no lugar certo
            if (value.length > 3 && value.indexOf(',') !== 3) {
                value = value.slice(0, 3) + ',' + value.slice(3);
            }

            // Limita o número de caracteres antes da vírgula
            if (value.length > 6) {
                value = value.slice(0, 6);
            }

            // Atualiza o valor do input
            e.target.value = value;
        }

        document.getElementById('sinalCto').addEventListener('input', formatInput);
        document.getElementById('sinalCliente').addEventListener('input', formatInput);
        



    // Obtém os itens do menu
    const menuItems = document.querySelectorAll("#menu li a");

    // Função para remover a classe "active" do elemento de navegação
    function removeActiveClass() {
      const nav = document.getElementById("nav");
      nav.classList.remove("active");
    }

    // Adiciona o evento de clique a cada item do menu
    menuItems.forEach(function(item) {
      item.addEventListener("click", removeActiveClass);
    });


/*function desable{

 // Função para enviar mensagem pelo WhatsApp
 function enviarMensagemWhatsApp() {
   // Construir a mensagem com produtos e quantidades
   var mensagem = 'Preciso de materiais da uma olhada\n\n'+'**Meu estoque:**'+'\n\n';
   for (let i = 0; i < produtos.length; i++) {
     mensagem += produtos[i].nome + ': ' + produtos[i].quantidade + '\n';
   }
   

   // Codificar a mensagem para uso na URL
   var mensagemCodificada = encodeURIComponent(mensagem);

   // Montar o link para o WhatsApp
   var linkWhatsApp = 'https://t.me/share/url?url=' + mensagemCodificada;

   // Abrir o WhatsApp no navegador
   window.open(linkWhatsApp);
 }
 
}

*/



 function enviarMensagemWhatsApp() {
   window.open('https://forms.gle/hLhheg9B6CMuParT6', '_blank');
}


function verificarTercaFeira() {
  var dataAtual = new Date();
  var diaSemana = dataAtual.getDay();

  if (diaSemana === 2) {
    var alertaExibido = sessionStorage.getItem('alertaExibido');

    if (!alertaExibido) {
      exibirAlerta();
    }
  }
}

function exibirAlerta() {
  document.getElementById('alerta').style.display = 'block';
}

function prosseguir() {
  sessionStorage.setItem('alertaExibido', 'true');
  // Redirecionar para o link do formulário de pedido de material
  window.location.href = 'https://forms.gle/hLhheg9B6CMuParT6';
}

function fecharAlerta() {
  document.getElementById('alerta').style.display = 'none';
}




function search() {
    var searchInput = document.getElementById('searchInput').value;
    var searchResults = document.getElementById('searchResults');
    var pageContent = document.body.innerText;

    var regex = new RegExp(searchInput, 'gi');
    var matches = pageContent.match(regex);

    if (matches) {
        searchResults.innerHTML = matches.join('<br>');
    } else {
        searchResults.innerHTML = 'No matches found.';
    }
}





document.getElementById('searchInput').addEventListener('input', function() {
    var searchValue = this.value.toLowerCase();
    var checkboxes = document.querySelectorAll('.instalacoes input[type="checkbox"]');
    
    checkboxes.forEach(function(checkbox) {
        var label = checkbox.parentNode;
        var checkboxValue = checkbox.value.toLowerCase();
        
        if (checkboxValue.indexOf(searchValue) !== -1) {
            label.style.display = 'block';
        } else {
            label.style.display = 'none';
        }
    });
});





setInterval(verificarTercaFeira, 11000);

 
 
function showPosition(position) {
  var lat = position.coords.latitude;
  var lng = position.coords.longitude;

  var mapLink = 'https://www.google.com/maps?q=' + lat + ',' + lng;
  document.getElementById('mapLink').innerHTML = '<a href="' + mapLink + '" target="_blank">' + mapLink + '</a>';
}

function getLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showPosition);
  } else {
    alert("Geolocalização não é suportada por este navegador.");
  }
}

getLocation();


function toggleSearch() {
    var searchContainer = document.getElementById('search-container');
    if (searchContainer.style.display === 'block') {
        searchContainer.style.display = 'none';
    } else {
        searchContainer.style.display = 'block';
    }
}

function aplicarEstilo() {
    const valor = document.getElementById('inputFind').value;
    const itensRegistros = document.querySelectorAll('.classe-Client');
    const itensDados = document.querySelectorAll('.abaDados');
    const itensLista = document.querySelectorAll('.item-lista');
    const alerta = document.getElementById('alerta1');

    let encontrado = 0;
    let resultados = [];

    // Função auxiliar para estilizar e exibir/ocultar itens
    function estilizarItens(itens) {
        itens.forEach(item => {
            if (item.textContent.includes(valor)) {
                resultados.push(item.outerHTML);
                item.classList.add('slidein');
                item.style.display = 'block'; // Mostrar item
                item.scrollIntoView({ behavior: 'smooth', block: 'center' });
                encontrado++;
            } else {
                item.classList.remove('slidein');
                item.style.display = 'none'; // Ocultar item
            }
        });
    }

    // Aplicando estilo aos itensRegistros, itensDados e itensLista
    estilizarItens(itensRegistros);
    estilizarItens(itensDados);
    estilizarItens(itensLista);

    if (encontrado === 0) {
        alert('Nada encontrado');
        alerta.innerHTML = '';
        alerta.style.display = 'none';
    } else {
        alerta.innerHTML = "Encontrados: " + encontrado;
        alerta.style.display = 'block';
        setTimeout(() => {
            alerta.style.display = 'none';
        }, 25000); // Esconde a div após 25 segundos
      
    }
}

setInterval(showPosition, 100);




  </script>
  
<script>
  async function reverseGeocode(lat, lon) {
    const url = `https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`;

    try {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error('Erro na solicitação');
      }
      const data = await response.json();
      if (data.address) {
        const address = data.address;
        return {
          road: address.road || '',
          suburb: address.suburb || address.neighbourhood || '',
          postcode: address.postcode || ''
        };
      } else {
        return {
          road: '',
          suburb: '',
          postcode: ''
        };
      }
    } catch (error) {
      return {
        road: '',
        suburb: '',
        postcode: ''
      };
    }
  }

  function getLocation() {
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(async (position) => {
        const latitude = position.coords.latitude;
        const longitude = position.coords.longitude;

        const endereco = await reverseGeocode(latitude, longitude);

        const addressDiv = document.getElementById('address');
        addressDiv.innerHTML = `
                    <div class="address-details">
                        <p>Rua: ${endereco.road}</p>
                        <p>Bairro: ${endereco.suburb}</p>
                        <p>CEP: ${endereco.postcode}</p>
                    </div>
                `;
      }, (error) => {
        document.getElementById('address').textContent = 'Erro ao obter localização';
      });
    } else {
      document.getElementById('address').textContent = 'Geolocalização não é suportada pelo seu navegador';
    }
  }

  // Chama a função getLocation quando a página é carregada
  window.onload = getLocation;
</script>
  <!-- Ably SDK -->
  <script src="https://cdn.ably.io/lib/ably.min-1.js"></script>
  <script>
    // Solicitar nome do usuário
    let username = '';
    while (!username) {
      username = prompt('Digite seu nome:');
    }

    // Sua chave de API do Ably
    const ably = new Ably.Realtime('ynrGug.SXDJOg:aoStJmyUcLlpwgEzYsJt8CFDsTBCq-yMjqNn6_DkgvM');
    const channel = ably.channels.get('chat');

    // Receber mensagens
    channel.subscribe('message', function(message) {
      const data = message.data;
      const item = document.createElement('li');
      item.textContent = `${data.name}: ${data.message}`;
      document.getElementById('messages').appendChild(item);
    });

    // Enviar mensagens
    document.getElementById('form').addEventListener('submit', function(e) {
      e.preventDefault();
      const input = document.getElementById('input');
      channel.publish('message', { name: username, message: input.value });
      input.value = '';
    });
  </script> 
  
  
</body>
</html>